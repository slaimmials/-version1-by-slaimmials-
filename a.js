(()=>{"use strict";var e,t,n,r,o={365006:(e,t,n)=>{n.d(t,{API_VERSION:()=>r});const r="5.251"},575753:(e,t,n)=>{n.d(t,{browser:()=>c,browserFeatures:()=>l,getBrowserKeyMatch:()=>d,initBrowserUtils:()=>h,mobPlatforms:()=>u,redirectToMVK:()=>p});var r=n(878701),o=n(396858),s=n(6898),i=n(105330);const a=navigator.userAgent.toLowerCase(),c={version:(a.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(a)||/opr/i.test(a),vivaldi:/vivaldi/i.test(a),amigo:/amigo.*mrchrome soc/i.test(a),msie:/msie/i.test(a)&&!/opera/i.test(a)||/trident\//i.test(a)||/edge/i.test(a),msie6:/msie 6/i.test(a)&&!/opera/i.test(a),msie7:/msie 7/i.test(a)&&!/opera/i.test(a),msie8:/msie 8/i.test(a)&&!/opera/i.test(a),msie9:/msie 9/i.test(a)&&!/opera/i.test(a),msie_edge:/edge/i.test(a)&&!/opera/i.test(a),mozilla:/firefox/i.test(a),yabrowser:/yabrowser/i.test(a),whale:/whale/i.test(a),chrome:/chrome/i.test(a)&&!/edge/i.test(a),safari:!/chrome/i.test(a)&&/webkit|safari|khtml/i.test(a),iphone:/iphone/i.test(a),ipod:/ipod/i.test(a),iphone4:/iphone.*OS 4/i.test(a),ipod4:/ipod.*OS 4/i.test(a),ipad:/ipad/i.test(a),ios:/.+(ipod|ipad|iphone.*os)/i.test(a),android:/android/i.test(a),bada:/bada/i.test(a),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(a),msie_mobile:/iemobile/i.test(a),safari_mobile:/iphone|ipod|ipad/i.test(a),opera_mobile:/opera mini|opera mobi/i.test(a),opera_mini:/opera mini/i.test(a),mac:/mac/i.test(a),windows7:/windows nt 6.1/i.test(a),windowsVista:/windows nt 6.0/i.test(a),windowsXp:/windows nt (5.2|5.1)/i.test(a),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(a),smart_tv:/smart-tv|smarttv/i.test(a)};function d(){return Object.keys(c).find((e=>!0===c[e]))||null}const u={1:1,2:1,3:1,4:1,5:1,8:1},l=(window,{wheelEvent:"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":c.mozilla?"MozMousePixelScroll":"DOMMouseScroll",hasBoundingClientRect:"getBoundingClientRect"in document.createElement("div"),cmaEnabled:navigator.credentials&&navigator.credentials.preventSilentAccess&&window.vk&&vk.cma});function p(){const[e,t]=location.href.split("?"),n=new URLSearchParams(t),r={};for(let e of n)r[e[0]]=e[1];if(r){if("1"===r.m)return;if(r.force_redirect_to_mvk){delete r.force_redirect_to_mvk;const t=(0,s.toQueryString)(r);return void(window.location=e.replace(i.VK_ORIGIN_REGEX_STRICT,"https://m."+(0,i.getHostName)())+(t?"?"+t:""))}}if(i.VK_URL_REGEX.test(e)&&!new RegExp("^"+i.VK_HOST_REGEX_UNSAFE.source+"\\/@").test(e)){const t=Object.assign(r,{force_redirect_to_mvk:1}),n=e+"?"+(0,s.toQueryString)(t);window.location=n}}function h(){!(0,r.isIPadOS)(c)||window.isMobileLanding||(0,o.getCookie)("remixforce_full")||p(),window._ua||n._dG("_ua",navigator.userAgent.toLowerCase()),window.locDomain||n._dG("locDomain",location.host.toString().match(/[a-zA-Z]+\.[a-zA-Z]+\.?$/)[0]),n._dG("locHost",location.host),n._dG("locProtocol",location.protocol),n._dG("locHash",location.hash.replace("#/","").replace("#!",""))}},6898:(e,t,n)=>{n.r(t),n.d(t,{fromQueryString:()=>d,toQueryString:()=>c});let r={};const o=e=>"function"==typeof e,s=e=>Array.isArray(e),i=function(e){if(r[e])return e;try{return encodeURIComponent(e)}catch(e){return""}},a=function(e){try{return decodeURIComponent(e)}catch(t){return r[e]=1,e}};function c(e,t){const n=[];for(const t in e)if(e.hasOwnProperty(t)&&null!=e[t]&&!o(e[t]))if(s(e[t]))for(let r=0,s=0,a=e[t].length;r<a;++r)null==e[t][r]||o(e[t][r])||(n.push(i(t)+"["+s+"]="+i(e[t][r])),++s);else n.push(i(t)+"="+i(e[t]));return t||n.sort(),n.join("&")}function d(e){if(!e)return{};const t={};e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].split("=");if(r[0]){const e=a(r[1]+"");if("[]"===r[0].substr(r.length-2)){const n=a(r[0].substr(0,r.length-2));t[n]||(t[n]=[]),t[n].push(e)}else t[a(r[0])]=e}}return t}},396858:(e,t,n)=>{n.d(t,{getCookie:()=>a,initCookies:()=>u,setCookie:()=>d});var r=n(540462),o=n(636576),s=n(298077),i=n(575753);function a(e){return function(){n._dG("_cookies",{});const e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i;for(let n=0,r=e.length;n<r;n++){const r=e[n].split("=");2===r.length&&(_cookies[r[0].match(t)[1]]=unescape(r[1].match(t)?r[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&"localhost"!==location.hostname&&(0,o.statlogsValueEvent)("read_unsecure_cookie",e,location.href),_cookies[e]}function c(e,t){const n=(0,r.getCookieGroups)(),o=function(){const e=a("remixcpl");if(!e)return[];const t=e.split(",");return t.forEach(((e,n)=>{t[n]=parseInt(e)})),t}();let i=e,c=null;return!(0,r.partConfigEnabled)("need_check_allowed_cookie")||(!isNaN(parseInt(t))&&parseInt(t)<0||("remix"===i.substr(0,5)&&(i=i.substr(5)),n.hasOwnProperty(e)?c=parseInt(n[e]):n.hasOwnProperty(i)?c=parseInt(n[i]):"q_"===i.substr(0,2)&&n.hasOwnProperty("q_")&&(c=parseInt(n.q_)),(null===c||isNaN(c))&&(0,s.logError)(`Undefined cookie group for cookie ${e} (${i})`),1===c||!(isNaN(c)||!o.includes(c))))}function d(e,t,n,o,s="None",a=window.locDomain,d={}){if(!c(e,n))return!1;const u=e+"="+escape(t),l=d.withoutSubdomains?".":"",p="; path=/"+(a?"; domain="+l+a:""),h="https:"===location.protocol;let g=!!o;(0,r.partConfigEnabled)("cookie_secure_default_true")&&(g=!1!==o);const m=h&&g?"; secure":"",f=g&&i.browser.chrome&&parseInt(i.browser.version)>=71&&(0,r.partConfigEnabled)("cookie_class_samesite")?`; SameSite=${s}`:"";let _="";if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),_="; expires="+e.toGMTString()}return document.cookie=u+_+p+f+m,!0}function u(){n._dG("_cookies",{})}},878701:(e,t,n)=>{function r(e=window.browser){return!(!e.mac||e.iphone||e.ipad||e.ipod||!(navigator.maxTouchPoints>1))}n.d(t,{isAutoSchemesSupported:()=>a,isCSSVariablesSupported:()=>i,isDarkTheme:()=>o,isIPadOS:()=>r,isIntersectionObserverSupported:()=>d,isLightTheme:()=>s,isResizeObserverSupported:()=>u,isWebAssemblySupported:()=>l,isWebpSupported:()=>c});const o=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),s=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches),i=()=>Boolean(window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")),a=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches),c=e=>{const t=new Image;t.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",t.onload=()=>{const n=t.width>0&&t.height>0;e(n)},t.onerror=()=>{e(!1)}},d=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,u=()=>"ResizeObserver"in window,l=()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}},42514:(e,t,n)=>{function r(e,t){return new Promise((n=>{setTimeout(n.bind(null,t),1e3*e)}))}function o(e,t,n=null){let o=0;return function s(...i){return Promise.resolve().then((()=>e(...i))).catch((e=>{if(o++,o<=t){const e="function"==typeof n?n(o):0;return 0===e?s(...i):r(e).then((()=>s(...i)))}throw e}))}}function s(e,t,n){let r,o;return function(...s){return new Promise(((e,i)=>{const a=n&&!r;clearTimeout(r),o&&o.reject("debounce"),r=setTimeout((function(){r=null,o=null,n||e(s)}),t),a?e(s):n&&i("debounce"),o={resolve:e,reject:i}})).then((t=>e(...t)))}}function i(e,t){let n,r,o;return function(...s){return new Promise(((e,i)=>{const a=Date.now(),c=()=>{e(s),n=a};!n||n+t<a?c():(o&&(o.reject(),clearTimeout(r)),o={resolve:e,reject:i},r=setTimeout(c,t-(a-n)))})).then((t=>e(...t)))}}function a(e,t){let n;const r=new Promise((r=>{n=r,setTimeout(r.bind(null,t),1e3*e)}));return{pause:()=>r,abort(){n(t)}}}n.d(t,{abortablePause:()=>a,debouncedPromise:()=>s,pause:()=>r,retryFn:()=>o,throttledPromise:()=>i})},636576:(e,t,n)=>{n.d(t,{statlogsValueEvent:()=>f});var r=n(396858),o=n(105330),s=n(469004),i=n(101272),a=n(540462),c=n(952492),d=n(633550);let u,l,p,h;(0,o.isMvk)()?(u="lock_m_stats_cookie_lock",l="remixmstsl",p="lock_m_stats_cookie_locked_stats",h="remixmsts"):(u="lockkk_stats_cookie_lock",h="remixsts",l="remixstsl",p="lock_stats_cookie_locked_stats");const g=[],m={get stats(){return(s.ls.checkVersion()?JSON.parse(s.ls.get(p)):this._stats)||[]},push(e){const t=this.stats;t.push(...e),s.ls.checkVersion()?s.ls.set(p,JSON.stringify(t)):this._stats=t},clear(){s.ls.checkVersion()?s.ls.remove(p):delete this._stats}};function f(e,t,...n){if(void 0===e||void 0===t)return;if(g.forEach((r=>r(e,t,...n))),(0,a.partConfigEnabled)("local_storage_statlogs_value_event")&&![c.ADBLOCK_CONFIG_KEY,d.WASM_SUPPORT_CONFIG_KEY].includes(e))return void(0,i.saveStatlogEvents)({name:e,value:t,keys:n});const o=[Math.round(Date.now()/1e3),e,t].concat(n);S((()=>{if((0,a.partConfigEnabled)("mvk_stats_cookie_soft_clean_up")){if("1"===(0,r.getCookie)(l))return void m.push([o]);(0,r.setCookie)(l,"1")}_(o)}))}function _(e){let t;try{t=JSON.parse((0,r.getCookie)(h)),t=t.data}catch(e){t=[]}if(t=[...t,...m.stats],e&&t.push(e),0===t.length)return;const n=1000000001*Math.random();let o=t.slice(-100);const s=(0,a.getConfigValue)("statlogs_cookie_size_limit")??3500;let i=0,c=0;for(;i<s&&c<t.length;){const e=t[c],n=(d=JSON.stringify(e),encodeURIComponent(d).length);if(n>=s)t.splice(c,1);else{if(i+n>=s)break;i+=n,c++}}var d;o=t.slice(0,c);const u=t.slice(c);m.clear(),u.length>0&&m.push(u),m.clear(),o.length>0&&((0,a.partConfigEnabled)("statlog_host_domain")?((0,a.partConfigEnabled)("statlogs_clear_all_domains_cookie_MVKC-7414")&&(0,r.setCookie)(h,"",-1),(0,r.setCookie)(h,JSON.stringify({data:o,uniqueId:n}),.01,void 0,void 0,window.location.host,{withoutSubdomains:!0})):((0,a.partConfigEnabled)("statlogs_clear_all_domains_cookie_MVKC-7414")&&(0,r.setCookie)(h,"",-1,void 0,void 0,window.location.host,{withoutSubdomains:!0}),(0,r.setCookie)(h,JSON.stringify({data:o,uniqueId:n}),.01)))}function S(e,t){if(s.ls.checkVersion()){if(!0!==s.ls.get(u)){s.ls.set(u,!0);try{e()}catch(e){}return void s.ls.set(u,!1)}t||setTimeout((()=>S(e,!0)),100)}else e()}(0,a.partConfigEnabled)("mvk_stats_cookie_soft_clean_up")&&(window.addEventListener("beforeunload",(()=>{_(null)})),window.ajax&&window.ajax.onResponse((()=>{_(null)})))},540462:(e,t,n)=>{n.d(t,{GROUP_A:()=>i,GROUP_B:()=>a,GROUP_B1:()=>c,GROUP_B2:()=>d,GROUP_C1:()=>u,GROUP_C2:()=>l,calculateTimeOffsets:()=>f,getConfigValue:()=>h,getCookieGroups:()=>m,getTestGroup:()=>p,isBelongsToTestGroup:()=>g,partConfigEnabled:()=>s,randEnabled:()=>o});var r=n(396858);function o(e){return Math.random()<e}function s(e){const{pe:t={}}=window.vk||{};return!!t[e]}const i=1,a=2,c=3,d=4,u=5,l=6;function p(e){const{ex:t={}}=window.vk||{};return t[e]||null}function h(e){const{cfg:t={}}=window.vk||{};return t[e]}function g(e,t,n=1){return null!==e&&(e>t*n-n&&e<=t*n)}function m(){const{acl:e={}}=window.vk||{};return e}function f(){const e=window.vk.ts;if(e&&!window.browser.opera_mobile){const t=new Date;let n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())/1e3-e;n-=10800,n/=60,n=n.toFixed(0),n*=60,n<-55800?n+=86400:n>37800&&(n-=86400);let o=0,s=Math.abs(n);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach((e=>{const t=Math.round(3600*(e-3)),r=Math.abs(n-t);r<s&&(s=r,o=t)}));const i=(0,r.getCookie)("remixdt");return void 0!==i&&function(e){return!0===e?1:parseInt(e)||0}(i)===o||(0,r.setCookie)("remixdt",o,365),o}return 0}},865322:(e,t,n)=>{n.d(t,{api:()=>l,setApiConfig:()=>p});var r=n(352319),o=n(586138),s=n(157598),i=n(277495),a=n(298077),c=n(810068),d=n(540462),u=n(738150);const l=(e,t,n,o={})=>{if(!s.globalState.isApiInited)return Promise.reject(new Error("[VKJS][API]: api didn't init. Use setApiConfig function"));let c=null;(0,d.partConfigEnabled)("send_stack_trace_request_api_error")&&"groups.getById"===e&&(c=new Error("request api error"));const l=()=>((e,t,n,o={})=>{if(!s.globalState.isAuth)return Promise.reject(new Error("[VKJS][API]: missing access_token"));const i=s.globalState.isAuth||(0,d.partConfigEnabled)("loginvk_api_use_anonymous_token")?t:{client_secret:r.clientSecret,...t};return(0,u.api)(e,i,n,o)})(e,t,n,o).then((e=>e),(e=>{throw c&&(e?.error?.error_msg&&(c.message=e.error.error_msg),(0,a.logError)(c,{breadcrumb:{data:e}})),e}));return s.globalState.didFirstLogin?l():(0,i.fetchToken)().then((e=>(s.globalState.didFirstLogin=!0,(0,u.setApiConfig)({accessToken:e.access_token}),l())))},p=e=>{s.globalState.isApiInited?(0,u.setApiConfig)({...e}):((0,u.setApiConfig)({appId:(0,d.partConfigEnabled)("video_client_appid")?r.clientId:o.VK_WEB_APP_ID,version:o.API_VERSION,onTokenExpired:()=>(0,i.fetchToken)(!0).then((({access_token:e})=>e||"")),grouping:c.Ranges.isUserId(window.vk?.id),formattedExecuteResponse:(0,d.partConfigEnabled)("vkid_api_formatted_execute_response"),...e}),s.globalState.isApiInited=!0)}},277495:(e,t,n)=>{n.d(t,{fetchToken:()=>h,login:()=>p,setLoginConfig:()=>l});var r=n(352319),o=n(586138),s=n(157598),i=n(42514),a=n(540462),c=n(105330),d=n(101272),u=n(367375);const l=e=>{s.globalState.isAuthInited||((0,u.setLoginConfig)({appId:o.VK_WEB_APP_ID,...e}),s.globalState.isAuthInited=!0)},p=(e,t,n,r,o={})=>{if(!s.globalState.isAuthInited)return Promise.reject(new Error("[VKJS][LOGIN]: login didn't init. Use setLoginConfig function"));let c;return c=(0,a.partConfigEnabled)("web_api_token_fetch_retry")?(0,i.retryFn)((()=>(0,u.login)(e,t,n,r,o)),2,(e=>[.25,.5][e-1]??.5))():(0,u.login)(e,t,n,r,o),c.then((e=>{if(Boolean(e.access_token)&&(s.globalState.isAuth=!0),window.vk?.id&&!s.globalState.isAuth&&console.error("[VKJS][LOGIN] Token request failed:",e),(0,a.partConfigEnabled)("act_a_check_after_web_token")&&Boolean(e.access_token))try{(0,u.login)("a_check",{access_token:e.access_token})}catch(e){console.error("[VKJS][LOGIN]: a_check act is failed")}return e})).catch((e=>{if(console.error("[VKJS][AUTH]:",e),"unauthorized"===e.error&&"login_error"===e.type){const e=(0,a.partConfigEnabled)("loginvk_unauthorized_force_logout");if(console.error(`[VKJS][AUTH]: logout ${e?"enabled":"disabled"} because `,"loginvk_unauthorized_force_logout = ",e),e)return(0,u.removeLoginCache)(),s.globalState.didFirstLogin=!0,s.globalState.isAuth=!1,(0,d.saveStatlogEvents)({name:"connect_logout_web_link",value:1,keys:[window.location.href]}),window.location.href=window.vk.logoutUrl,new Promise((()=>{}))}return{access_token:"",error:!0,...e}}))},h=(e=!1)=>window.vk?.id<=0&&(0,a.partConfigEnabled)("loginvk_api_use_anonymous_token")?p("get_anonym_token",{client_secret:r.clientSecret,client_id:r.clientId,scopes:"audio_anonymous,video_anonymous,photos_anonymous,profile_anonymous",isApiOauthAnonymEnabled:(0,a.partConfigEnabled)("video_fix_refresh_anonym_token")},{},e):(0,c.isVkVideo)()?(0,c.isMvkVKVideo)()?p("web_token",{},{domain:window.location.hostname,path:"video",appId:r.clientId},e,{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}}):p("web_token",{},{appId:r.clientId,domain:window.location.hostname,path:"al_video.php"},e):p("web_token",{},{},e)},352319:(e,t,n)=>{n.d(t,{API_VERSION:()=>p,VK_ID_AUTH_APP:()=>d,VK_MVK_APP_ID:()=>i,VK_MVK_VKVIDEO_APP_ID:()=>c,VK_WEB_APP_ID:()=>s,VK_WEB_VKVIDEO_APP_ID:()=>a,clientId:()=>l,clientSecret:()=>u});var r=n(105330),o=n(365006);const s=6287487,i=7879029,a=52461373,c=52649896,d=51781872,{clientSecret:u,clientId:l}=(()=>{let e=s,t="QbYic1K3lEV5kTGiqlq2";return(0,r.isMvk)()&&(e=i,t="aR5NKGmm03GYrCiNKsaw"),(0,r.isVkMe)()&&(e=51745158,t="IjjCNl4L4Tf5QZEXIHKK"),(0,r.isVkVideo)()&&(e=a,t="o557NLIkAErNhakXrQ7A"),(0,r.isMvkVKVideo)()&&(e=c,t="WStp4ihWG4l3nmXZgIbC"),{clientId:e,clientSecret:t}})(),p=o.API_VERSION},157598:(e,t,n)=>{n.d(t,{globalState:()=>r});const r={isApiInited:!1,isAuthInited:!1,didFirstLogin:!1,isAuth:!1}},586138:(e,t,n)=>{n.d(t,{API_VERSION:()=>r.API_VERSION,VK_ID_AUTH_APP:()=>r.VK_ID_AUTH_APP,VK_MVK_APP_ID:()=>r.VK_MVK_APP_ID,VK_MVK_VKVIDEO_APP_ID:()=>r.VK_MVK_VKVIDEO_APP_ID,VK_WEB_APP_ID:()=>r.VK_WEB_APP_ID,VK_WEB_VKVIDEO_APP_ID:()=>r.VK_WEB_VKVIDEO_APP_ID,clientId:()=>r.clientId,clientSecret:()=>r.clientSecret}),n(865322),n(277495);var r=n(352319)},957994:(e,t,n)=>{n.d(t,{api:()=>r,login:()=>o,removeLoginCache:()=>s});const r=(e,t,n,r={})=>window.vkApi?window.vkApi.api(e,t,n,r):Promise.reject(new Error("[VKJS][API]: api didn't allowed. Use makeAuthAndApiGlobal function")),o=(e,t,n,r)=>window.vkApi?window.vkApi.login(e,t,n,r):Promise.reject(new Error("[VKJS]: login didn't allowed. Use makeAuthAndApiGlobal function")),s=(e,t)=>window.vkApi?window.vkApi.removeLoginCache(e,t):console.error("[VKJS]: removeLoginCache didn't allowed. Use makeAuthAndApiGlobal function")},658961:(e,t,n)=>{n.d(t,{getBrowserFingerprint:()=>o});var r=n(396858);function o(){return(0,r.getCookie)("remixgp")}},298077:(e,t,n)=>{n.d(t,{logError:()=>s,logEvalError:()=>a,logUnknownError:()=>i});var r=n(540462),o=n(501397);function s(e,t={}){window?.vk?.static?.init_entries?.includes("sentry.js")||window?.vk?.static?.init_entries?.includes("tracer.js"),(0,o.logError)(e,t),(0,r.partConfigEnabled)("webinf_show_error_logs")&&window?.console.error(e)}function i(e){if(e instanceof Error)return void s(e);let t="unknown error";if("string"==typeof e&&(t=e),"object"==typeof e&&null!==e&&"message"in e){const{message:n}=e;"string"==typeof n&&(t=n)}s(new Error(t))}function a(e,t){(0,r.partConfigEnabled)("web_inline_grouping_fix")||(t&&t.length>2e3&&(t=`${t.slice(0,1e3)}...${t.slice(-1e3)}`),e.message+=`: ${t}`),s(e)}},469004:(e,t,n)=>{n.d(t,{ls:()=>c,multiAccountLs:()=>l});var r=n(553608);function o(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}}function s(e,t){if(void 0===e)return!1;a(e);try{return r.vkLocalStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}}function i(e){if(void 0===e)return!1;try{return JSON.parse(r.vkLocalStorage.getItem(e))}catch(e){return!1}}function a(e){try{r.vkLocalStorage.removeItem(e)}catch(e){}}const c={checkVersion:o,remove:a,get:i,set:s},d=e=>void 0!==e?`${e}_@id:${window.vk.id}`:void 0,u=e=>(...t)=>{const[n,...r]=t,o=[d(n),...r];return e(...o)},l={checkVersion:o,remove:u(a),get:e=>{const t=u(i)(e);if(null===t){const t=i(e);if(null!==t)return l.set(e,t),a(e),t}return t},set:u(s)}},105330:(e,t,n)=>{n.d(t,{DOMAIN:()=>r,VK_DOMAIN_REGEX:()=>h,VK_DOMAIN_REGEX_UNSAFE:()=>p,VK_HOST_REGEX_GROUP_UNSAFE:()=>l,VK_HOST_REGEX_UNSAFE:()=>u,VK_ORIGIN_PREFIX_REGEX:()=>m,VK_ORIGIN_REGEX_STRICT:()=>g,VK_POSSIBLE_SITE_HOSTS:()=>s,VK_SITES_REGEX_SOURCE_UNSAFE:()=>d,VK_SITE_REGEX_SOURCE_UNSAFE:()=>c,VK_SITE_RELATIVE_URL:()=>a,VK_URL_REGEX:()=>f,VK_URL_REGEX_STRICT:()=>_,getAverageRGB:()=>R,getBlobType:()=>O,getGlobalObject:()=>I,getHostName:()=>w,getMediaBlob:()=>A,getPhotoFromVideo:()=>D,isMvk:()=>S,isMvkVKVideo:()=>b,isPWA:()=>y,isVkMe:()=>E,isVkVideo:()=>v,loadFontFace:()=>C,loadFontFacePromise:()=>U,loadImage:()=>N,loadImages:()=>P,loadVideo:()=>k,noop:()=>T});const r="vk.com",o=e=>e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"),s=["vk.com","vk.ru","vkvideo.ru",w()].filter(((e,t,n)=>n.indexOf(e)===t)),i=s.concat(["vkontakte.ru","vk.me","userapi.com"]),a=["vk.ru",r].includes(w())?"":`https://${r}`,c=o(w()),d=s.map(o).join("|"),u=new RegExp("("+i.map(o).join("|")+")"),l=new RegExp(i.map(o).join("|")),p=(new RegExp("^"+u.source+"$"),new RegExp(`([a-zA-Z0-9\\.\\_\\-]+\\.)?${u.source}`)),h=new RegExp("^"+p.source+"$"),g=(new RegExp(`^(https?:\\/\\/)?${p.source}$`),new RegExp(`^(https?:\\/\\/)${p.source}$`)),m=new RegExp(`^(https?:\\/\\/)${p.source}`),f=new RegExp(`^(https?:\\/\\/)?${p.source}($|\\/(.*))`),_=new RegExp(`^(https?:\\/\\/)${p.source}($|\\/(.*))`);function S(){return!!window.isMVK}function E(){return!!window.vkmeConfig?.anonymBroadcastInitArgs}const v=()=>{const e=I();return Boolean(e.vk?.isVideoStandalone||e.cur?.isVideoStandalone)},b=()=>S()&&v();function y(){return window.vk?.platform?.startsWith?.("pwa")}function w(){return I().vk?.__domain||"vk.com"}function I(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}function A(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=()=>{if(404===r.response.status)return n();t(r.response)},r.onerror=n,r.send()}))}function O(e){try{return e.type.split("/").splice(-1)[0]}catch(e){return null}}const T=()=>{};function R(e,t=0,n=0,r,o){const s={r:0,g:0,b:0};let i;r=r||e.canvas.width,o=o||e.canvas.height;try{i=e.getImageData(t,n,r,o)}catch(e){return s}let a=-4,c=0;for(;(a+=20)<i.data.length;)++c,s.r+=i.data[a],s.g+=i.data[a+1],s.b+=i.data[a+2];return s.r=~~(s.r/c),s.g=~~(s.g/c),s.b=~~(s.b/c),s}function k(e){return new Promise(((t,n)=>{const r=document.createElement("video");r.muted=!0,r.autoplay=!0,r.playsInline=!0,r.addEventListener("canplay",(()=>{r.pause(),t(r)}),{once:!0}),r.addEventListener("error",n,{once:!0}),r.crossOrigin="anonymous",r.src=e}))}function D(e,t=[0]){const n=[];return new Promise(((r,o)=>{const s=document.createElement("canvas"),i=s.getContext("2d"),{videoWidth:a,videoHeight:c}=e;s.width=a,s.height=c,function d(u){const l=e.currentTime;e.addEventListener("seeked",(()=>{i?.drawImage(e,0,0,a,c,0,0,a,c),e.currentTime=l,N(s.toDataURL("image/jpeg",1)).then((o=>{n.push(o),u>=t.length-1?(e.src="",r(n)):d(u+1)})).catch(o)}),{once:!0}),e.currentTime=-1===t[u]?e.duration:t[u]}(0)}))}function N(e){return new Promise(((t,n)=>{const r=new Image;r.crossOrigin=e.startsWith("data:")?null:"Anonymous",r.onerror=()=>n(new Error(`Failed to load image's URL: ${e}`)),r.onload=()=>t(r),r.src=e}))}const P=e=>new Promise((t=>{const n=e.map((e=>N(e)));Promise.all(n).then((e=>t(e))).catch((()=>{}))}));function C(e,t){const n={normal:"400",500:"500",600:"600",bold:"700"},r={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},o={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};let s,i,a,c,d,u,l;function p(e){let t=[];return each(e,(function(e,n){t.push(e+":"+n)})),t.join(";")}function h(e,t,n){return Math.abs(e.width-t.offsetWidth)>n||Math.abs(e.height-t.offsetHeight)>n}function g(){c||(utilsNode.appendChild(d),c=!0,a={sansSerif:{width:l.offsetWidth,height:l.offsetHeight},serif:{width:u.offsetWidth,height:u.offsetHeight}},l.style.fontFamily=`"${e}", sans-serif`,u.style.fontFamily=`"${e}", serif`),c&&a&&(h(a.sansSerif,l,t.tolerance)||h(a.serif,u,t.tolerance))?(d&&d.remove(),t.success()):(new Date).getTime()-i.getTime()>t.timeout?(d&&d.remove(),t.error()):!c&&"requestAnimationFrame"in window?window.requestAnimationFrame(g):window.setTimeout(g,t.delay)}for(let e in r)t.hasOwnProperty(e)||(t[e]=r[e]);o["font-weight"]=t.weight,o["font-style"]=t.style,!t.glyphs&&"fonts"in document?(t.timeout&&(s=setTimeout((function(){t.error()}),t.timeout)),function(r){each(document?.fonts,(function(o){o.family.toLowerCase()===e.toLowerCase()&&(n[o.weight]||o.weight)===""+t.weight&&o.style===t.style&&o.load().then((function(){t.success(),clearTimeout(r)}))}))}(s)):function(){const e="AxmTYklsjo190QW"+t.glyphs;i=new Date,d=document.createElement("div"),l=document.createElement("div"),l.innerHTML=e,u=document.createElement("div"),u.innerHTML=e,l.setAttribute("style",p(extend({"font-family":"sans-serif"},o))),u.setAttribute("style",p(extend({"font-family":"serif"},o))),d.appendChild(l),d.appendChild(u),g()}()}function U(e,t){return new Promise(((n,r)=>{C(e,{...t,glyphs:"",success(){const e=()=>{n(),t?.success&&t.success()};browser.safari?setTimeout(e,150):e()},error(){r(),t?.error&&t.error()}})}))}},553608:(e,t,n)=>{n.d(t,{bestAvailableStorage:()=>f,getSessionStorage:()=>p,isStorageAvailable:()=>a,vkLocalStorage:()=>u,vkSessionStorage:()=>h});class r{setItem(e,t){this.data[e]=String(t)}removeItem(e){delete this.data[e]}clear(){this.data={}}get length(){return Object.keys(this.data).length}key(e){return Object.keys(this.data)[e]}constructor(){this.data={},this.getItem=e=>this.data.hasOwnProperty(e)?this.data[e]:null,this.keys=()=>Object.keys(this.data)}}const o="vk-ls-dummy",s=Math.random().toString(),i={localStorage:null,sessionStorage:null};function a(e){if(null===i[e])try{const t=window[e];t.setItem(o,s),i[e]=s===t.getItem(o),t.removeItem(o)}catch(t){i[e]=!1}return i[e]}let c;function d(){return c||(c=a("localStorage")?window.localStorage:new r,c)}const u={setItem:(e,t)=>d().setItem(e,t),getItem:e=>d().getItem(e),removeItem:e=>d().removeItem(e),clear:()=>d().clear(),length:()=>d().length,key:e=>d().key(e),keys(){const e=d();return e instanceof r?e.keys():Object.keys(e)},getPrefixedKeys:e=>u.keys().filter((t=>t.startsWith(e)))};let l;function p(){return l||(l=a("sessionStorage")?window.sessionStorage:new r,l)}const h={setItem:(e,t)=>p().setItem(e,t),getItem:e=>p().getItem(e),removeItem:e=>p().removeItem(e),clear:()=>p().clear(),length:()=>p().length,key:e=>p().key(e),keys(){const e=p();return e instanceof r?e.keys():Object.keys(e)},getPrefixedKeys:e=>h.keys().filter((t=>t.startsWith(e)))};let g;function m(){return g||(g=a("localStorage")?window.localStorage:a("sessionStorage")?window.sessionStorage:new r,g)}const f={setItem:(e,t)=>m().setItem(e,t),getItem:e=>m().getItem(e),removeItem:e=>m().removeItem(e),clear:()=>m().clear(),length:()=>m().length,key:e=>m().key(e),keys(){const e=m();return e instanceof r?e.keys():Object.keys(e)},getPrefixedKeys:e=>f.keys().filter((t=>t.startsWith(e)))}},101272:(e,t,n)=>{n.d(t,{saveBenchmarkMainStats:()=>T,saveCustomStats:()=>b,saveNetworkStats:()=>v,saveProductionStats:()=>y,saveStatlogEvents:()=>E,saveStoryViewBaseStats:()=>I,saveStoryViewStats:()=>A,saveVkResStats:()=>k,saveWebPerfStats:()=>O,sendWebStats:()=>R,writeAndSendWebStats:()=>w});var r=n(558137),o=n(241448),s=n(510794),i=n(586138),a=n(105330),c=n(540462),d=n(658961),u=n(636576);const l=()=>({get st(){return window.vk.statsMeta.st},get platform(){return window.vk?.statsMeta?.platform?window.vk?.statsMeta?.platform:(0,a.isMvk)()?"mvk":"web2"},get appId(){return(0,c.partConfigEnabled)("video_webstats_appid")?i.clientId:void 0},get time(){return window.vk.statsMeta.time},get hash(){return window.vk.statsMeta.hash},get wsTransport(){return window.vk.wsTransport},get userId(){return window.vk.id},get started(){return window.vk.started},get itemId(){return window.cur?.item_id},get itemOwnerId(){return window.cur?.item_owner_id},get itemType(){return window.cur?.item_type}}),p=()=>({get isDebuggerMode(){return(0,c.partConfigEnabled)("web_stats_transport_debugger")},get isNewQueue(){return(0,c.partConfigEnabled)("webinf_change_queue_analytics")}});function h(e,t){return`${e.wsTransport}/web-stats/${e.st?"s":"p"}${t&&`?${t}`}`}function g(){const e=(0,c.getConfigValue)("akashi_endpoint");return String(e)}const m=(0,r.makeSharedState)("webStats",(()=>new o.WebStats({hostName:(0,a.getHostName)(),options:p(),statlogsValueEvent:u.statlogsValueEvent,getBrowserFingerprint:d.getBrowserFingerprint,statsMeta:l(),smallerChunks:!1,createUrl:h})),{version:1}),f=(0,r.makeSharedState)("akashi",(()=>{const e={hostName:(0,a.getHostName)(),options:p(),localStorage:new s.CustomStorage,sessionStorage:new s.CustomStorage,getBrowserFingerprint:d.getBrowserFingerprint,statsMeta:l(),smallerChunks:!1,createUrl:g};return new o.WebStats(e)}),{version:1}),_=m(),S=f(),E=_.saveStatlogEvents.bind(_),v=_.saveNetworkStats.bind(_),b=_.saveCustomStats.bind(_),y=_.saveProductionStats.bind(_),w=_.writeAndSendWebStats.bind(_),I=_.saveStoryViewBaseStats.bind(_),A=_.saveStoryViewStats.bind(_),O=_.saveWebPerfStats.bind(_),T=_.saveBenchmarkMainStats.bind(_),R=_.sendWebStats.bind(_),k=S.saveVkResStats.bind(S)},952492:(e,t,n)=>{n.d(t,{ADBLOCK_CONFIG_KEY:()=>o,DEFAULT_ADBLOCK_STATS_COOLDOWN_MS:()=>r,URLS:()=>s});const r=864e5,o="unique_adblock_users",s=["https://tns-counter.ru","https://top-fwz1.mail.ru","https://ads.vk.com"]},633550:(e,t,n)=>{n.d(t,{DEFAULT_WASM_SUPPORT_COOLDOWN_MS:()=>r,WASM_SUPPORT_CONFIG_KEY:()=>o});const r=864e5,o="users_wasm_support"},810068:(e,t,n)=>{n.d(t,{Ranges:()=>s.Ranges,rangesIsGroupIdPositive:()=>i});var r=n(298077),o=n(540462),s=n(468073);function i(e){e<0&&(0,o.partConfigEnabled)("ranges_group_id_negative_log")&&(0,r.logError)(new Error("Ranges: expecting positive groupId but negative given."));let t=-Math.abs(e)||0;return s.Ranges.isGroupId(t)}},238054:(e,t,n)=>{n.d(t,{API_ERROR_APP_AUTH:()=>a,API_ERROR_AUTH:()=>r,API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED:()=>d,API_ERROR_CAPTCHA:()=>i,API_ERROR_CUA_2_CONFIRMATION_REQUIRED:()=>u,API_ERROR_FLOOD:()=>s,API_ERROR_RATE_LIMIT:()=>c,API_ERROR_TOO_MANY:()=>o});const r=5,o=6,s=9,i=14,a=28,c=29,d=1114,u=11500},27919:(e,t,n)=>{n.d(t,{PendingTask:()=>r});class r{constructor(){this.get=()=>this.promise,this.resolve=e=>this.resolveHandler(e),this.reject=e=>this.rejectHandler(e),this.promise=new Promise(((e,t)=>{this.resolveHandler=e,this.rejectHandler=t}))}}},910981:(e,t,n)=>{n.d(t,{RequestTask:()=>o});var r=n(975499);class o{setAccessToken(e){this.bodyParams.access_token=e}setGrouping(e){this.grouping=e}setParams(e){this.methodParams=e}canGroupInExecute(){return!this.method.includes("execute")&&!!this.apiConfig.accessToken&&!this.methodParams.v&&!1!==this.grouping&&void 0===this.fetchOptions.method&&void 0===this.fetchOptions.headers&&void 0===this.fetchOptions.signal}toString(){const e={};return"object"==typeof this.methodParams&&Object.keys(this.methodParams).forEach((t=>{const n=this.methodParams[t];null!=n&&(e[t]="object"==typeof n?String(n):n)})),`API.${this.method}(${JSON.stringify(e)})`}constructor(e,t,n={},o={},s={}){this.resolve=()=>{},this.reject=()=>{},this.method=e,this.methodParams=t,this.fetchOptions=s,this.overrideApiConfig=o,this.apiConfig=Object.assign({},n,o),this.grouping=this.apiConfig.grouping,this.queryParams=(0,r.getApiQueryParams)(this.apiConfig),this.apiConfig.captureAsyncStacktrace&&(this.asyncBaseError=new Error("Async error"));const i=(0,r.getApiBodyParams)(this.apiConfig);this.bodyParams=Object.assign({},t,i),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}},502463:(e,t,n)=>{n.d(t,{Retries:()=>o});class r{constructor(e=1/0){this.tries=0,this.increment=()=>{this.tries++},this.get=()=>this.tries,this.isExceeded=()=>this.tries>=this.maxTries,this.maxTries=e}}class o{constructor(){this.retries=new Map,this.get=e=>this.retries.get(e),this.create=(e,t)=>(this.retries.set(e,new r(t)),this.retries.get(e)),this.delete=e=>{this.retries.delete(e)}}}},244404:(e,t,n)=>{n.d(t,{Storage:()=>r});class r{}r.setItemToStorage=(e,t)=>{try{localStorage.setItem(e,t)}catch(e){}},r.getItemFromStorage=e=>{try{return localStorage.getItem(e)}catch(e){}},r.removeItemFromStorage=e=>{try{localStorage.removeItem(e)}catch(e){}}},182879:(e,t,n)=>{n.d(t,{API_VERSION:()=>r});const r="5.131"},738150:(e,t,n)=>{n.d(t,{api:()=>v,apiBeacon:()=>A,setApiConfig:()=>E,upload:()=>I});var r=n(238054),o=n(27919),s=n(910981),i=n(502463),a=n(68123),c=n(341072),d=n(754589),u=n(626287),l=n(975499);let p={domain:"api.vk.com",maxRetries:10,grouping:!0};const h=new i.Retries,g=new i.Retries;let m=null,f=null,_=null;const S=[];function E(e){e=Object.assign({},p,e),p=e}function v(e,t,n={},r={}){const o=new s.RequestTask(e,t,p,n,r);return o.canGroupInExecute()?(S.push(o),_&&window.clearTimeout(_),_=window.setTimeout((()=>{b(S,n,r,o.apiConfig.enableForks)}),0)):(o.setGrouping(!1),w(o)),o.promise}async function b(e,t,n={},r){if(1===e.length){const t=e.shift();w(t),t.setGrouping(!1)}else{const o=[],i=[],a=[];for(let t=0;t<e.length;t+=1){if(!e[t].canGroupInExecute())continue;const n=e.splice(t,1)[0];if(t-=1,o.push(n),r&&0!==e.length&&(i.push(`'${n.method}': fork(${n})`),a.push(`wait(forks['${n.method}'])`)),o.length>=25)break}let c=`return [${o.join(",")}];`;if(r){const e=o[o.length-1];c=`\n        var forks = { ${i.join(",")} };\n\n        return [${a.join(",")},${e}];\n      `}const d=new s.RequestTask("execute",{code:c},p,t,n);d.setGrouping(!0),w(d);try{const e=await d.promise;let t=0;e.response.forEach(((n,r)=>{!1===n?((0,l.rejectWithApiError)(o[r],{type:u.APIErrorType.API_ERROR,error:e.execute_errors[t]}),t+=1):o[r].resolve(n)}))}catch(e){o.forEach((t=>(0,l.rejectWithApiError)(t,e)))}}e.length>0&&window.setTimeout((()=>b(e,t,n,r)),1e3)}function y(e){try{return window.localStorage?.getItem(e)}catch(e){return null}}async function w(e){const t=e.methodParams.captcha_sid,n=e.methodParams.session;(m&&m.sid!==t||f&&f.session!==n)&&(0,l.rejectWithApiError)(e,{type:u.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Ddos limit exceeded",error_text:"Ddos limit exceeded"}});const{domain:s,formattedExecuteResponse:i}=e.apiConfig,p=(0,a.makeParams)(e.queryParams),_=`https://${s}/method/${e.method}?${p}`,S=Object.assign({[c.CUA_STATE_PARAM]:(y(c.STORAGE_CUA_STATE)||"").trim()||void 0,[c.CUA_SESSION_PARAM]:n||void 0},e.methodParams,e.bodyParams),v=(0,l.getRequestHash)(_,e.methodParams),b=g.get(v)||g.create(v,e.apiConfig.maxRetries),I=h.get(v)||h.create(v,e.apiConfig.maxRetries);try{await(0,d.waitTimeExp)(b.get()||I.get());const s=await(0,a.corsRequest)(_,S,e.fetchOptions);if(e.apiConfig.challenge?.(s))return void setTimeout((()=>{(0,l.rejectWithApiError)(e,{type:u.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Unknown",error_text:"Unknown"}})}),1e4);const c=await s.json();if(void 0!==c.response)return g.delete(v),h.delete(v),m&&m.sid===t&&(m.task?.resolve(void 0),m=null,e.apiConfig.onCaptchaSuccess?.()),f&&f.session===n&&(f.task?.resolve(void 0),f=null,e.apiConfig.onCuaSuccess?.()),c.execute_errors?void(i||e.grouping?e.resolve({response:c.response||[],execute_errors:c.execute_errors}):e.resolve({...c.response,execute_errors:c.execute_errors})):void(e.grouping?e.resolve({response:c.response}):e.resolve(c.response));const p=c.error;if(!p)return void(0,l.rejectWithApiError)(e,{type:u.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Unknown",error_text:"Unknown"}});if(e.apiConfig.onCaptcha&&p?.error_code===r.API_ERROR_CAPTCHA)return void async function(e,t,n){if(!t.apiConfig.onCaptcha)return;const{captcha_sid:r,captcha_img:s,captcha_height:i,captcha_width:a,captcha_attempt:c,captcha_ts:d,is_refresh_enabled:l,is_sound_captcha_available:p,captcha_track:h,is_enabled_vkui:g,uiux_changes:f,redirect_uri:_}=e;if(m){if(m.sid!==n)return await m.task.get(),void await w(t);{const e=new o.PendingTask;e.get().then(m.task.resolve).catch(m.task.reject),m={sid:r,task:e}}}else m={sid:r,task:new o.PendingTask};try{const e=await t.apiConfig.onCaptcha({captcha_sid:r,captcha_img:s,captcha_height:i,captcha_width:a,is_refresh_enabled:l,is_sound_captcha_available:p,captcha_track:h,is_enabled_vkui:g,uiux_changes:f,redirect_uri:_}),n={captcha_ts:d,captcha_attempt:c},o=Object.assign({},t.methodParams,e,n);t.setParams(o),w(t)}catch(e){m=null,t.reject({type:u.APIErrorType.API_ERROR,error:e})}}(p,e,t);if(m&&m.sid===t&&(m.task?.resolve(void 0),m=null,e.apiConfig.onCaptchaSuccess?.()),e.apiConfig.onCua&&p?.error_code===r.API_ERROR_CUA_2_CONFIRMATION_REQUIRED)return void async function(e,t){if(!t.apiConfig.onCua)return;const{cua_session:n}=e;if(f){if(f.session!==n)return await f.task.get(),void await w(t);{const e=new o.PendingTask;e.get().then(f.task.resolve).catch(f.task.reject),f={session:n,task:e}}}else f={session:n,task:new o.PendingTask};try{const e=await t.apiConfig.onCua({cua_session:n}),r=Object.assign({},t.methodParams,e);t.setParams(r),w(t)}catch(e){f=null,t.reject({type:u.APIErrorType.CUA_ERROR,error:e})}}(p,e);if(f&&f.session===t&&(f.task?.resolve(void 0),f=null,e.apiConfig.onCuaSuccess?.()),0===e.apiConfig.maxRetries)return void(0,l.rejectWithApiError)(e,{type:u.APIErrorType.API_ERROR,error:p});if(b.isExceeded()||I.isExceeded())return g.delete(v),h.delete(v),void(0,l.rejectWithApiError)(e,{type:u.APIErrorType.API_ERROR,error:{error_code:p.error_code,error_msg:"Maximum of api retries exceeded",error_text:p.error_text}});if((0,l.isNotAllowedToMakeMoreRequests)(p.error_code))return I.increment(),g.delete(v),void w(e);h.delete(v);const y=!e.overrideApiConfig?.accessToken&&(p.error_code===r.API_ERROR_AUTH||p.error_code===r.API_ERROR_APP_AUTH||p.error_code===r.API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED);if(e.apiConfig.onTokenExpired&&y){const t=await e.apiConfig.onTokenExpired();return b.increment(),E({accessToken:t}),e.setAccessToken(t),void w(e)}g.delete(v),(0,l.rejectWithApiError)(e,{type:u.APIErrorType.API_ERROR,error:c.error})}catch(n){m&&m.sid===t&&(m=null,e.apiConfig.onCaptchaSuccess?.()),e.reject({type:u.APIErrorType.NETWORK_ERROR,error:n})}}async function I(e,t){return(await fetch(e,{method:"POST",body:t,mode:"cors"})).json()}function A(e,t,n){const r=new s.RequestTask(e,t,p,n),{domain:o}=r.apiConfig,i=(0,a.makeParams)(r.queryParams),c=`https://${o}/method/${r.method}?${i}`,d=Object.assign({},r.methodParams,r.bodyParams);return navigator.sendBeacon(c,(0,a.toFormData)(d))}},626287:(e,t,n)=>{n.d(t,{APIErrorType:()=>r});var r=function(e){return e.API_ERROR="api_error",e.NETWORK_ERROR="network_error",e.CUA_ERROR="cua_error",e}({})},975499:(e,t,n)=>{n.d(t,{getApiBodyParams:()=>a,getApiQueryParams:()=>i,getRequestHash:()=>c,isNotAllowedToMakeMoreRequests:()=>d,rejectWithApiError:()=>u});var r=n(238054),o=n(68123),s=n(182879);const i=e=>{const t={v:e.version||s.API_VERSION};return e.appId&&(t.client_id=e.appId),t},a=e=>({access_token:e.accessToken}),c=(e,t={})=>`${e}-${(0,o.makeParams)(Object.assign({},t))}`,d=e=>e===r.API_ERROR_RATE_LIMIT||e===r.API_ERROR_FLOOD||e===r.API_ERROR_TOO_MANY,u=(e,t)=>{if(!e.apiConfig.throwFullErrors)return void e.reject(t);const n=new Error("Api request failed",e.asyncBaseError?{cause:e.asyncBaseError}:void 0);Object.entries(t).forEach((([e,t])=>{n[e]=t})),e.reject(n)}},341072:(e,t,n)=>{n.d(t,{CUA_SESSION_PARAM:()=>s,CUA_STATE_PARAM:()=>o,STORAGE_CUA_STATE:()=>r});const r="cua_state",o="cua_state",s="cua_session"},430186:(e,t,n)=>{n.d(t,{AUTH_VERSION:()=>s,CACHE_KEY_REG_EXP:()=>r,ERROR_TRY_LATER:()=>o});const r=/\d+:[a-zA-Z_]+:login:auth/,o="check result failure",s="1"},367375:(e,t,n)=>{n.d(t,{login:()=>f,removeLoginCache:()=>_,setLoginConfig:()=>p});var r=n(27919),o=n(502463),s=n(244404),i=n(68123),a=n(754589),c=n(430186),d=n(978742);const u=new o.Retries;let l={domain:"login.vk.com",apiDomain:"oauth.vk.com",maxRetries:3};function p(e){e=Object.assign({},l,e),l=e}const h=new Map,g=new Map;let m=!1;function f(e,t,n={},o=!1,p={}){const S=Object.assign({},l,n),E=`${S.appId}:${e}:login:auth`,v=`${E}--request`;let b=h.get(v);if(b)return b.get();const y=u.get(v)||u.create(v,S.maxRetries);return b=new r.PendingTask,h.set(v,b),(async()=>{await(0,d.waitRequestFromOtherTabs)(v),await(0,a.waitTimeExp)(y.get());const r=!g.get(v)||o;let l;S.disableSaveToken||(l=(0,d.loadCache)(E));const w=t&&"isApiOauthAnonymEnabled"in t&&t.isApiOauthAnonymEnabled&&"get_anonym_token"===e;if(w&&l?.access_token&&l?.expires&&(0,d.checkAuthExpires)(Number(l.expires)))return void b.resolve(l);if(!r&&l?.expires&&(0,d.checkAuthExpires)(Number(l.expires)))return s.Storage.removeItemFromStorage(v),h.delete(v),void b.resolve(l);const I={};l?.access_token&&(I.access_token=l.access_token);const{domain:A,apiDomain:O,onCaptcha:T,path:R=""}=S,k=w?`https://${O}/get_anonym_token`:`https://${A}/${R}?act=${e}`,D=(0,d.getLoginParams)(S),N=Object.assign({},t,D,I);_(e,n);try{const r=await(0,i.corsRequest)(k,N,p),o=await r.json();let a=w?(0,d.getApiAnonymLoginResponse)(o):(0,d.getLoginResponse)(o);if("error"in a&&(a=(0,d.getWafCaptchaParams)(a)),"error"===a.type)return h.delete(v),a.error_info===c.ERROR_TRY_LATER?y.isExceeded()?(u.delete(v),b.reject({type:"login_error",error:{error_code:0,error_msg:"Maximum of login retries exceeded"}})):(y.increment(),void(async()=>{try{const r=await f(e,t,n);b.resolve(r)}catch(e){b.reject(e)}})()):(u.delete(v),void b.reject({type:"login_error",error:a.error_info,errorCode:a.error_code??"unknown_error"}));if(u.delete(v),"captcha"===a.type){if(!T)return void b.reject({type:"login_error",error:"captcha"});const{captcha_sid:r,captcha_img:o,captcha_type:s,captcha_height:i,captcha_width:c,captcha_ts:d,captcha_attempt:u,is_refresh_enabled:l,is_sound_captcha_available:p,captcha_track:g,is_enabled_vkui:_,uiux_changes:E,redirect_uri:y}=a;m=!0;try{const a=await T({captcha_sid:r,captcha_img:o,captcha_type:s,captcha_height:i,captcha_width:c,is_refresh_enabled:l,is_sound_captcha_available:p,captcha_track:g,is_enabled_vkui:_,uiux_changes:E,redirect_uri:y}),w={captcha_ts:d,captcha_attempt:u},I=Object.assign({},t,a,w);h.delete(v),(async()=>{try{const t=await f(e,I,n);b.resolve(t)}catch(e){b.reject(e)}finally{m&&(m=!1,S.onCaptchaSuccess?.())}})()}catch{h.delete(v),b.reject({type:"login_error",error:"captcha"})}return}const l=a.data.expires||1/0;S.disableSaveToken||s.Storage.setItemToStorage(E,JSON.stringify({...a.data,expires:l})),s.Storage.removeItemFromStorage(v),g.set(v,!0),h.delete(v),b.resolve(a.data)}catch(e){u.delete(v),h.delete(v),b.reject({type:"network_error",error:e})}})(),b.get()}function _(e,t){if(!e)return void Object.keys(localStorage).forEach((e=>{c.CACHE_KEY_REG_EXP.test(e)&&s.Storage.removeItemFromStorage(e)}));let n=l;t&&(n=Object.assign({},l,t));const r=`${n.appId}:${e}:login:auth`;s.Storage.removeItemFromStorage(r)}},978742:(e,t,n)=>{n.d(t,{checkAuthExpires:()=>p,getApiAnonymLoginResponse:()=>c,getLoginParams:()=>a,getLoginResponse:()=>d,getWafCaptchaParams:()=>h,loadCache:()=>l,waitRequestFromOtherTabs:()=>u});var r=n(238054),o=n(244404),s=n(754589),i=n(430186);const a=e=>({version:e.version||i.AUTH_VERSION,app_id:e.appId}),c=e=>"error"in e?{type:"error",error_code:e.error,error_info:e.error_description}:{type:"okay",data:{access_token:e.token,expires:e.expired_at}},d=e=>{if(!Array.isArray(e))return e;const[t]=e;return{type:"okay",data:t}},u=e=>new Promise((t=>{null===o.Storage.getItemFromStorage(e)?(o.Storage.setItemToStorage(e,"1"),t()):setTimeout(t,(0,s.getRandomWaitTime)())})),l=e=>{let t=o.Storage.getItemFromStorage(e),n={};if(t)try{n=JSON.parse(t)}catch(e){}return n},p=e=>1e3*e-Date.now()>=s.ONE_MINUTE_MS,h=e=>{let t;const{error_code:n,error_msg:o}=e.error;switch(n){case r.API_ERROR_CAPTCHA:const{captcha_sid:s,captcha_img:a,captcha_width:c,captcha_height:d,captcha_attempt:u,captcha_ts:l,is_refresh_enabled:p,is_sound_captcha_available:h,captcha_track:g,is_enabled_vkui:m,uiux_changes:f,redirect_uri:_}=e.error;t={type:"captcha",captcha_type:"regular",captcha_sid:s,captcha_img:a,captcha_track:g,captcha_height:d,captcha_width:c,captcha_attempt:u,captcha_ts:l,is_refresh_enabled:p,is_sound_captcha_available:h,is_enabled_vkui:m,uiux_changes:f,redirect_uri:_};break;case r.API_ERROR_TOO_MANY:t={type:"error",error_info:i.ERROR_TRY_LATER,error_code:String(n)};break;default:t={type:"error",error_info:o,error_code:String(n)}}return t}},68123:(e,t,n)=>{n.d(t,{corsRequest:()=>a,makeParams:()=>s,toFormData:()=>i});var r=n(341072);const o=[r.CUA_STATE_PARAM,r.CUA_SESSION_PARAM];function s(e){return Object.keys(e).map((t=>{let n=e[t];return t=encodeURIComponent(t||""),n=encodeURIComponent(void 0===n?"":n),o.includes(t)&&!n?null:`${t}=${n}`})).filter(Boolean).join("&")}function i(e){const t=new FormData;for(const n in e)e.hasOwnProperty(n)&&("string"==typeof e[n]?t.append(n,e[n]):t.append(n,JSON.stringify(e[n])));return t}function a(e,t,n={}){const r=s(t);return fetch(e,{method:"POST",body:r,mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},...n})}},754589:(e,t,n)=>{n.d(t,{ONE_MINUTE_MS:()=>r,getRandomWaitTime:()=>o,waitTimeExp:()=>s});const r=6e4,o=(e=500,t=1500)=>window.FORCED_API_WAIT_TIME?window.FORCED_API_WAIT_TIME:~~(Math.random()*(t-e+1)+e),s=e=>{return 0===e?Promise.resolve():(t=(e=>{if(0===e)return 0;if(window.FORCED_API_WAIT_TIME)return window.FORCED_API_WAIT_TIME;const t=Math.random(),n=100*Math.pow(2,e)/2;return n+n*t})(e),new Promise((e=>{setTimeout((()=>e()),t)})));var t}},586434:(e,t,n)=>{n.d(t,{getBeforeSend:()=>c});var r=n(766790),o=n(784511),s=n(44303),i=n(698851);let a=!1;function c(e){const t=(0,o.getGlobalConfig)().beforeSend??{};return function(n,o){if(!(0,i.isSentryEnabled)())return null;if(t.local&&(!(0,r.getGlobalObject)().location?.hostname||/^file:\/\/\/[A-Z]:(\\|\/)/.test(n.request?.url??"")))return null;if(t.unloading&&a)return null;if(t.extension&&n.exception){const e=n.exception.values?.some((e=>e.stacktrace?.frames?.some((e=>e.filename?.startsWith("chrome-extension://")))));if(e)return null}return n.tags&&!n.tags.module&&(n.tags.module=(0,s.getModule)()),t.custom&&e?e(n,o):n}}window.addEventListener("beforeunload",(()=>{a=!0,setTimeout((()=>{a=!1}),1e3)}))},663413:(e,t,n)=>{n.d(t,{getDenyUrls:()=>s});var r=n(784511);const o=[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i];function s(e){const t=(0,r.getGlobalConfig)().ignore?.urls??{},n=[];return t.recommended&&n.push(...o),t.custom&&e&&n.push(...e),t.emergency&&n.push(...t.emergency),n}},194179:(e,t,n)=>{n.d(t,{getDsn:()=>o});var r=n(784511);function o(){return(0,r.getGlobalConfig)().dsn}},739476:(e,t,n)=>{n.d(t,{getIgnoreErrors:()=>i});var r=n(784511);const o=[/^AbortError:/,"отменено","Failed to fetch","NetworkError when attempting to fetch resource.","Cancelled","Network request failed","NetworkError",/^Loading chunk(?:.*)failed/i,/^Loading CSS chunk(?:.*)failed/i],s=["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];function i(e){const t=(0,r.getGlobalConfig)().ignore?.errors??{},n=[];return t.recommended&&n.push(...s),t.base&&n.push(...o),t.custom&&e&&n.push(...e),t.emergency&&n.push(...t.emergency),n}},790291:(e,t,n)=>{n.d(t,{getIntegrations:()=>u});var r=n(993256),o=n(961933),s=n(784511),i=n(843046),a=n(355642),c=n(121285),d=n(41275);function u(e,t){const n=(0,s.getGlobalConfig)().integrations??{},u=[(0,i.apiClientErrorsIntegration)({webStatsParams:e}),(0,a.langLoadingIssuesIntegration)({webStatsParams:e}),(0,r.contextLinesIntegration)(),(0,o.extraErrorDataIntegration)({depth:5}),(0,d.deduplicationIntegration)(),(0,c.alreadySentIntegration)()];return t&&u.push(...t),u.filter((({name:e})=>Boolean(n[e])))}},456675:(e,t,n)=>{n.d(t,{getMaxBreadcrumbs:()=>s});var r=n(784511),o=n(44303);function s(){return((0,r.getGlobalConfig)().breadcrumbsLimit??1)*((0,o.isStagingOrTestDomain)()?2:1)}},698851:(e,t,n)=>{n.d(t,{isSentryEnabled:()=>o});var r=n(784511);function o(){return Boolean(((0,r.getGlobalConfig)().sentry??{}).enabled)}},694529:(e,t,n)=>{n.d(t,{getTags:()=>i});var r=n(784511),o=n(44303);const s="1.1.0";function i(e){const t=(0,r.getGlobalConfig)(),n=(0,o.getTestDomainName)(),i=(0,o.getPartABSlot)(),a=(0,o.getUser)();return{...n?{test_domain_name:n}:{},...i?{part_ab_slot:i}:{},is_logged_in:Boolean(a),config_version:`${s}#${t.version??0}`,...e}}},777333:(e,t,n)=>{n.d(t,{getTracerToken:()=>s});var r=n(784511),o=n(813219);function s(){const e=(0,r.getGlobalConfig)().tracer??{};return("testing"===(0,o.getTracerBuildName)()?e.token_testing:e.token_release)??"B5d6H7nKgmqPMHnLp5DE9pSWT6tlYEDmDtAU2Uo9ipa"}},540764:(e,t,n)=>{n.d(t,{init:()=>f});var r=n(149746),o=n(399373),s=n(194179),i=n(694529),a=n(456675),c=n(790291),d=n(663413),u=n(739476),l=n(586434),p=n(777333),h=n(44303),g=n(766790),m=n(813219);function f({webStatsParams:e,tags:t,integrations:n,ignoreErrors:f,denyUrls:_,beforeSend:S,ignoreTransactions:E,enableTracer:v}){const b=(0,h.getUser)(),y=(0,s.getDsn)();if(!y)throw new Error("The dsn option is required!");v&&function({tags:e}){const t=(0,h.getUser)(),n=(0,o.initTracerSdk)({versionName:(0,m.getTracerBuildName)(),versionCode:Number((0,g.getGlobalObject)().vk?.rv||0),appToken:(0,p.getTracerToken)()},o.initTracerLog,o.initTracerError,o.initTracerPerformance,o.initTracerErrorUploader,o.initTracerPerformanceUploader,o.initTracerSessionUploader);n.setErrorKeys({...(0,i.getTags)(e)}),t&&n.setUserId(t.id),n.setModule((0,m.getTracerModule)())}({tags:t}),(0,r.init)({dsn:y,ignoreTransactions:E,environment:(0,h.getEnvironment)(),release:(0,h.getRelease)(),initialScope:{...b?{user:b}:{},tags:(0,i.getTags)(t)},sendDefaultPii:!0,sendClientReports:!1,maxBreadcrumbs:(0,a.getMaxBreadcrumbs)(),integrations:t=>[...t.filter((e=>"BrowserSession"!==e.name)),...(0,c.getIntegrations)(e,n)],ignoreErrors:(0,u.getIgnoreErrors)(f),denyUrls:(0,d.getDenyUrls)(_),beforeSend:(0,l.getBeforeSend)(S)})}},121285:(e,t,n)=>{n.d(t,{alreadySentIntegration:()=>s});const r="AlreadySent",o=new Set;function s(){return{name:r,processEvent(e){const t=function(e){return e?.exception?.values??[]}(e),n=t.map((e=>function(e){const{type:t,value:n}=e,r=e.stacktrace?.frames?.map((({filename:e,lineno:t,colno:n})=>`${e}:${t}:${n}`)).join(" -> ");if(t&&n&&r)return`${t}: ${n} {${r}}`}(e)));if(n.every(Boolean)){const e=n.join(", ");if(o.has(e))return null;o.add(e)}return e}}}},843046:(e,t,n)=>{n.d(t,{apiClientErrorsIntegration:()=>d});var r=n(23271),o=n(443799),s=n(241448),i=n(626287),a=n(159629);const c="ApiClientErrors";function d({webStatsParams:e}){const t=new s.WebStats(e);return{name:c,processEvent(e,{originalException:n}){if(!function(e){return!!e&&Object.values(i.APIErrorType).includes(e.type)}(n))return e;if(function({type:e,error:t}){return e===i.APIErrorType.NETWORK_ERROR||!(e!==i.APIErrorType.API_ERROR||!t?.error_msg)&&["Flood control","Maximum of api retries exceeded"].includes(t.error_msg)}(n))return(({type:e,error:n})=>{t.sendWebStats("statlogEvents",{name:"api_client_errors",value:1,keys:[e,n?.error_msg??(n instanceof Error?n.message:"An error occurred during the API request"),n?.error_code??0,n?.method??""]})})(n),null;const{error:s}=n,c=(0,a.getTitleException)(e);return c&&Object.assign(c,{type:"ApiError",value:s?.error_msg??"An error occurred during the API request"}),s instanceof Error&&e.exception?.values?.push((0,r.exceptionFromError)(o.defaultStackParser,s)),e}}}},334018:(e,t,n)=>{n.d(t,{curModuleDiffIssuesIntegration:()=>o});const r="CurModuleDiffIssues";function o(){return{name:r,processEvent(e,{originalException:t}){if("CurModuleDiffError"===t?.name){const n=`${t?.curModuleBootstrap}|${t?.curModuleOnReady}`;e.fingerprint=[n]}return e}}}},41275:(e,t,n)=>{n.d(t,{deduplicationIntegration:()=>d});var r=n(766790),o=n(159629);const s="Deduplication",i=[" is not defined","Can't find variable: "],a=/No value for lang key "([a-zA-Z0-9_]+)" is specified/;function c(e){return String(e.tags?.module??"unknown")}function d(){return{name:s,processEvent:e=>function(e){const t=c(e),{url:n}=e.request??{},{type:s,value:i,stacktrace:a}=(0,o.getTitleException)(e)??{},d=(0,r.getGlobalObject)().location.href;if(s&&i&&n){const r=({in_app:e,abs_path:t,filename:r})=>!!e&&n!==(t||r);a?.frames?.some(r)||(e.fingerprint=[s,t,i],e.tags&&(e.tags.isInlineScriptOld=!0))}if(s&&i&&a){const n=e=>e.filename===d;a.frames?.every(n)&&(e.fingerprint=[s,t,i],e.tags&&(e.tags.isInlineScript=!0))}return e}(e=function(e){const t=c(e),{type:n,value:r}=(0,o.getTitleException)(e)??{};if("ReferenceError"===n&&r)if(i.some((e=>r.includes(e)))){const o=i.reduce(((e,t)=>e.replace(t,"")),r).replace(/['"]/g,"");e.fingerprint=[n,t,o]}else{const[,o]=r.match(a)??[];o&&(e.fingerprint=[n,t,o])}return e}(e))}}},765560:(e,t,n)=>{n.d(t,{inlineScriptTagIntegration:()=>o});const r="InlineScriptTag";function o(){return{name:r,processEvent(e,t){const n=t.originalException?.__inline_tag;return n&&(e.fingerprint=[n],e.tags&&(e.tags.inlineTag=n)),e}}}},303933:(e,t,n)=>{n.d(t,{isNotDefinedIssuesIntegration:()=>u});var r=n(944705),o=n(241448),s=n(766790);const i="IsNotDefinedIssues";let a=!0,c=[];function d(e=!1){a=!1;const t={beforeRedirectChallenge:e,isNotDefinedIntegration:!0};for(const e of c)e.tags={...e.tags??{},...t},(0,r.getClient)()?.sendEvent(e);c=[]}function u({active:e,webStatsParams:t}){const n=new o.WebStats(t);return a=e,a&&((0,s.getGlobalObject)().addEventListener("DOMContentLoaded",(()=>d())),(0,s.getGlobalObject)().addEventListener("redirect-challenge",(()=>d(!0)))),{name:i,processEvent:async e=>a&&function(e){const t=e.exception?.values?.[0];return!!t&&Boolean("ReferenceError"===t.type&&t.value?.includes("is not defined"))}(e)?(c.push(e),await(async()=>{n.sendWebStats("statlogEvents",{name:"web_static_is_not_defined_issues",value:1,keys:[]})})(),null):e}}},856626:(e,t,n)=>{n.d(t,{knownIssuesIntegration:()=>o});const r="KnownIssues";function o(e){return{name:r,processEvent(t,n){const r=function(e){for(const{ratio:t=0,predicates:n}of e)if(n.every(Boolean))return t}(e.getKnownIssues(t,n));return void 0===r?t:Math.random()>=r?null:(t?.tags&&(t.tags.known_issue=!0),t)}}}},355642:(e,t,n)=>{n.d(t,{langLoadingIssuesIntegration:()=>a});var r=n(241448),o=n(814104),s=n(159629);const i="LangLoadingIssues";function a({webStatsParams:e}){const t=new r.WebStats(e);return{name:i,processEvent(e){const n=(0,s.getTitleException)(e);if("LangLoadError"===n?.type){const e=function(e){const{value:t}=e;if(!t)return;const[n,r]=t.split("\n");if(!n||!r)return;const[,o,s]=r.match(/^\((.*?):\s(.*?)\)$/)||[];return o&&s?{type:o,url:s}:void 0}(n);if(e){const[n,r]=(0,o.separateSourceAndHash)(e.url),s=function(e){switch(e){case"error":return"LangLoadingError";case"timeout":return"LangLoadingTimeout";default:return"LangLoadingUnknown"}}(e.type);t.sendWebStats("statlogEvents",{name:"static_loading_issues",value:1,keys:[s,n,r]})}return null}return e}}}},312828:(e,t,n)=>{n.d(t,{staticLoadingIssuesIntegration:()=>c});var r=n(241448),o=n(814104),s=n(159629);const i="StaticLoadingIssues",a=[];function c({webStatsParams:e}){const t=new r.WebStats(e);return{name:i,processEvent(e){const n=function(e){const{stacktrace:t}=(0,s.getTitleException)(e)??{};return!!t?.frames&&"__webpack_require__"===t.frames[t?.frames.length-1].function}(e);if(n){const n=function(e){const{stacktrace:t}=(0,s.getTitleException)(e)??{};return t?.frames?.[t?.frames?.length-1].filename}(e);if(n){const[e,r]=(0,o.separateSourceAndHash)(n);t.sendWebStats("statlogEvents",{name:"static_loading_issues",value:1,keys:["WebpackModuleError",e,r]}),a.push(n)}return null}return a.length&&"ReferenceError"===(0,s.getTitleException)(e)?.type&&(e.tags&&(e.tags.static_desync=!0),e.extra={...e.extra,webpackModuleErrorCalls:a}),e}}}},501397:(e,t,n)=>{n.d(t,{logError:()=>s});var r=n(944705),o=(n(606979),n(399373));function s(e,{breadcrumb:t,environment:n,hasDummyStacktrace:s}={}){s&&e.stack&&delete e.stack,function(e,{breadcrumb:t,environment:n}){const o=(0,r.getClient)();o&&o.captureException(e,{captureContext:e=>(n&&e.setTags({module:n}),t&&e.addBreadcrumb({message:t.message,category:"custom",data:t.data}),e)})}(e,{breadcrumb:t,environment:n}),function(e,{breadcrumb:t,environment:n}={}){const{log:r,error:s}=(0,o.getTracerModules)();if(!s)return;let i;if(t&&r&&r.log(function(e){let t="";return e.timestamp&&(t+=`<${e.timestamp}> `),e.level&&(t+=`[${e.level}] `),t+=[e.type,e.category].join(".")+" ",e.message&&(t+=e.message+" "),e.data&&(t+="\n"+JSON.stringify(e.data)+"\n"),t}(t)),"string"==typeof e)i=new Error(e);else if(e instanceof Error)i=e;else if("object"==typeof e)try{i=new Error(JSON.stringify(e))}catch(e){i=new Error("Unserializable error",{cause:e})}else i=new Error(e?"Unserializable error":"Empty error");s?.error(i,{issueKey:n})}(e,{breadcrumb:t,environment:n})}},44303:(e,t,n)=>{n.d(t,{getEnvironment:()=>s,getModule:()=>c,getPartABSlot:()=>d,getRelease:()=>a,getTestDomainName:()=>i,getUser:()=>u,isStagingOrTestDomain:()=>o});var r=n(766790);function o(){return(0,r.getGlobalObject)().vk?.statsMeta?.st||!1}function s(){return(0,r.getGlobalObject)().vk?.statsMeta?.st?"staging":"production"}function i(){}function a(){return s(),(0,r.getGlobalObject)().vk?.rv}function c(){return(0,r.getGlobalObject)().cur?.module||"unknown"}function d(){return(0,r.getGlobalObject)().vk?.pabs}function u(){const e=(0,r.getGlobalObject)().vk?.id;if(e)return{id:String(e)}}},784511:(e,t,n)=>{n.d(t,{getGlobalConfig:()=>o});var r=n(766790);function o(){return(0,r.getGlobalObject)().vk?.cfg?.error_monitoring_config??{}}},766790:(e,t,n)=>{function r(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}n.d(t,{getGlobalObject:()=>r})},159629:(e,t,n)=>{function r(e){const t=e?.exception?.values??[];if(t.length)return t[t.length-1]}n.d(t,{getTitleException:()=>r})},814104:(e,t,n)=>{function r(e){let t="",n="";try{const r=new URL(e);t=r.pathname,n=r.host}catch{return[e,void 0]}const[,r,o,s]=t.match(/^(.*?)\.(.*?)\.(js|css)/)||[];return r&&o?[`${r}.${s}`,n]:[t,n]}n.d(t,{separateSourceAndHash:()=>r})},813219:(e,t,n)=>{n.d(t,{getTracerBuildName:()=>o,getTracerModule:()=>s});var r=n(44303);function o(){return"release"}function s(){return(0,r.getEnvironment)()}},770176:(e,t,n)=>{n.d(t,{browser:()=>o});const r=navigator.userAgent.toLowerCase(),o={version:(r.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(r)||/opr/i.test(r),vivaldi:/vivaldi/i.test(r),amigo:/amigo.*mrchrome soc/i.test(r),msie:/msie/i.test(r)&&!/opera/i.test(r)||/trident\//i.test(r)||/edge/i.test(r),msie6:/msie 6/i.test(r)&&!/opera/i.test(r),msie7:/msie 7/i.test(r)&&!/opera/i.test(r),msie8:/msie 8/i.test(r)&&!/opera/i.test(r),msie9:/msie 9/i.test(r)&&!/opera/i.test(r),msie_edge:/edge/i.test(r)&&!/opera/i.test(r),mozilla:/firefox/i.test(r),yabrowser:/yabrowser/i.test(r),whale:/whale/i.test(r),chrome:/chrome/i.test(r)&&!/edge/i.test(r),safari:!/chrome/i.test(r)&&/webkit|safari|khtml/i.test(r),iphone:/iphone/i.test(r),ipod:/ipod/i.test(r),iphone4:/iphone.*OS 4/i.test(r),ipod4:/ipod.*OS 4/i.test(r),ipad:/ipad/i.test(r),ios:/.+(ipod|ipad|iphone.*os)/i.test(r),android:/android/i.test(r),bada:/bada/i.test(r),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(r),msie_mobile:/iemobile/i.test(r),safari_mobile:/iphone|ipod|ipad/i.test(r),opera_mobile:/opera mini|opera mobi/i.test(r),opera_mini:/opera mini/i.test(r),mac:/mac/i.test(r),windows7:/windows nt 6.1/i.test(r),windowsVista:/windows nt 6.0/i.test(r),windowsXp:/windows nt (5.2|5.1)/i.test(r),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(r),smart_tv:/smart-tv|smarttv/i.test(r)}},558137:(e,t,n)=>{n.d(t,{makeSharedState:()=>a});const r="__SHARED_STATE_KEY";(()=>{const e=self.hasOwnProperty(r)?self[r]:Object.create(null);Object.defineProperty(self,r,{configurable:!0,value:e})})();const o=()=>self[r],s=e=>o()[e],i=(e,t)=>{o()[e]=t};function a(e,t,n){const r=function(e,t){let n=e.replace(/[^a-zA-Z0-9-]/gi,"_").toLowerCase();return 0!==t&&(n+=`__${t}`),n}(e,n.version);return r in o()||i(r,t()),()=>s(r)}},468073:(e,t,n)=>{n.d(t,{Ranges:()=>o});var r=n(109680);const o=Object.freeze({getAutotestGroupIdRand:()=>a(r.RANGES_IDS.AUTOTEST_GROUP_ID_MIN,r.RANGES_IDS.AUTOTEST_GROUP_ID_MAX),isAutotestGroup:e=>e>=r.RANGES_IDS.AUTOTEST_GROUP_ID_MIN&&e<=r.RANGES_IDS.AUTOTEST_GROUP_ID_MAX,isGroupId:e=>e<=r.RANGES_IDS.GROUPS_UPPER_BOUND&&e>r.RANGES_IDS.GROUPS_LOWER_BOUND,isUserId:e=>e>=r.RANGES_IDS.USERS_LOWER_BOUND&&e<r.RANGES_IDS.USERS_UPPER_BOUND||e>=r.RANGES_IDS.USERS_LOWER_BOUND_LONG&&e<r.RANGES_IDS.USERS_UPPER_BOUND_LONG,isUserIdTransitional(e){o.isUserId(e);return s(e,0,r.RANGES_IDS.CONTACTS_UPPER_BOUND)},isRealOwner:e=>o.isGroupId(e)||o.isUserId(e),isAudioOwner:e=>o.isRealOwner(e)||o.isUMA(e)||o.isFakeWallAudioOwner(e),isPlaylistOwner:e=>o.isRealOwner(e)||o.isUMA(e)||o.isChatOrChannelPeer(e),isOfficialPlaylist:e=>o.isUMAReleaseOwner(e)||o.isUMAAlbumOwner(e),isFakeWallAudioOwner:e=>i(e,r.RANGES_IDS.AUDIO_FAKE_WALL_OWNER_MIN,r.RANGES_IDS.AUDIO_FAKE_WALL_OWNER_MAX),isUMA:e=>o.isUMAReleaseOwner(e)||o.isUMAAlbumOwner(e),isUMAAlbumOwner:e=>i(e,r.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MIN,r.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX),getUMAAlbumOwnerByShift:e=>r.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX-Math.abs(e%r.RANGES_IDS.AUDIO_FAKE_UMA_OWNERS_COUNT),isUMAReleaseOwner:e=>i(e,r.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MIN,r.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX),getUMAReleaseOwnerByShift:e=>r.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX-Math.abs(e%r.RANGES_IDS.AUDIO_FAKE_UMA_OWNERS_COUNT),isEmailId:e=>e<r.RANGES_IDS.EMAIL_UPPER_BOUND,isOwnerId:e=>e>=r.RANGES_IDS.USERS_LOWER_BOUND?o.isUserId(e):o.isGroupId(e),isContactId:e=>e>=r.RANGES_IDS.CONTACTS_LOWER_BOUND&&e<r.RANGES_IDS.CONTACTS_UPPER_BOUND,convertContactIdToPeerId:e=>e+r.RANGES_IDS.USERS_UPPER_BOUND,convertPeerIdToContactId:e=>e-r.RANGES_IDS.USERS_UPPER_BOUND,isChatOrChannelPeer:e=>e>=r.RANGES_IDS.CHAT_OR_CHANNEL_LOWER_BOUND&&e<=r.RANGES_IDS.CHAT_OR_CHANNEL_UPPER_BOUND,isChatId:e=>e>r.RANGES_IDS.MIN_CHAT_ID&&e<=r.RANGES_IDS.MAX_CHAT_ID,convertChatPeerIdToChatId:e=>e-r.RANGES_IDS.CONTACTS_UPPER_BOUND,convertChatIdToChatPeerId:e=>e+r.RANGES_IDS.CONTACTS_UPPER_BOUND,isAppDomain:e=>e>=r.RANGES_IDS.APP_LOWER_BOUND&&e<r.RANGES_IDS.APP_UPPER_BOUND,convertPeerIdToAppId:e=>-e+r.RANGES_IDS.APP_UPPER_BOUND,convertAppIdToPeerId:e=>r.RANGES_IDS.APP_UPPER_BOUND-e,isUnauthLongId:e=>i(e,r.RANGES_IDS.UNAUTH_LONG_ID_MIN,r.RANGES_IDS.UNAUTH_LONG_ID_MAX),isUnauthLongIdOld:e=>i(e,r.RANGES_IDS.UNAUTH_LONG_ID_MIN_OLD,r.RANGES_IDS.UNAUTH_LONG_ID_MAX_OLD),isMarusyaUploadOwner:e=>r.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MIN<=e&&e<=r.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MAX,getRandomMarusyaUploadOwnerId:()=>a(r.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MIN,r.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MAX),isFakeDocOwner:e=>i(e,r.RANGES_IDS.FAKE_DOC_OWNER_MIN,r.RANGES_IDS.FAKE_DOC_OWNER_MAX),getFirstFakeOwnerId:()=>r.RANGES_IDS.FAKE_DOC_OWNER_MIN,getRandomFirstFakeOwnerId:()=>a(r.RANGES_IDS.FAKE_DOC_OWNER_MIN,r.RANGES_IDS.FAKE_DOC_OWNER_MIN+64e3),getRandomFakeOwnerId:()=>r.RANGES_IDS.FAKE_DOC_OWNER_MIN+(Math.floor(Date.now()/1e3)/173+a(0,999))%64e3,isAdsVideoOwner:e=>i(e,r.RANGES_IDS.ADS_VIDEO_OWNER_MIN,r.RANGES_IDS.ADS_VIDEO_OWNER_MAX),getRandomAdsVideoOwner:()=>a(r.RANGES_IDS.ADS_VIDEO_OWNER_MIN,r.RANGES_IDS.ADS_VIDEO_OWNER_MAX),isAdsPhotoOwner:e=>i(e,r.RANGES_IDS.ADS_PHOTO_OWNER_MIN,r.RANGES_IDS.ADS_PHOTO_OWNER_MAX),getRandomAdsPhotoOwner:()=>a(r.RANGES_IDS.ADS_PHOTO_OWNER_MIN,r.RANGES_IDS.ADS_PHOTO_OWNER_MAX),isZeroOwner:e=>0===e,convertEmailIdToEmailPeerId:e=>o.isEmailId(e)?-e+r.RANGES_IDS.EMAIL_UPPER_BOUND:0,isZeroOwnerDeprecated:e=>!!e||o.isZeroOwner(e),isExternalUser:e=>s(e,r.RANGES_IDS.EMAIL_UPPER_BOUND,r.RANGES_IDS.EXTERNAL_USER_ID_OFFSET),isExternalUserDeprecated(e){o.isExternalUser(e);return s(e,r.RANGES_IDS.EMAIL_UPPER_BOUND,r.RANGES_IDS.APP_DOMAIN_ID_OFFSET)},isAnonymousCallPeerId:e=>e>=r.RANGES_IDS.CALLS_PEER_LOWER_BOUND&&e<r.RANGES_IDS.CALLS_PEER_UPPER_BOUND,isAnonymousUserPeerId:e=>e>=r.RANGES_IDS.ANONYMOUS_USER_PEER_ID_LOWER_BOUND&&e<r.RANGES_IDS.ANONYMOUS_USER_PEER_ID_UPPER_BOUND,getAnonymousCallUserByShift(e){const t=r.RANGES_IDS.CALLS_PEER_UPPER_BOUND-r.RANGES_IDS.CALLS_PEER_LOWER_BOUND,n=(e%t+t)%t;return r.RANGES_IDS.CALLS_PEER_UPPER_BOUND-1-n},isValidAliExpressOrderUserId:e=>!(e<r.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START||e>r.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START+r.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_LENGTH),generateAliexpressOrderUserId:()=>a(r.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START,r.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_LENGTH),isADBot:e=>e>=r.RANGES_IDS.AD_BOT_ID_RANGE_START&&e<=r.RANGES_IDS.AD_BOT_ID_RANGE_END,getMarusiaAudioFakeId(e){const t=r.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MAX-r.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN;return r.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN+e%t},isMarusiaAudioFakeId:e=>e>=r.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN&&e<r.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MAX,isOwnerIdTransitional:e=>e>r.RANGES_IDS.USERS_LOWER_BOUND?o.isUserIdTransitional(e):o.isGroupId(e),convertGroupIdToOwnerId:e=>-e,convertGroupIdToOwnerIdStrict:e=>-Math.abs(e),convertOwnerIdToGroupId:e=>Math.abs(e)});function s(e,t,n){return t<e&&e<n}function i(e,t,n){return t<=e&&e<=n}function a(e,t){return e+Math.floor(Math.random()*(t-e))}},109680:(e,t,n)=>{n.d(t,{RANGES_IDS:()=>r});const r=Object.freeze({MIN_CHAT_ID:0,MAX_CHAT_ID:1e8,UNAUTH_LONG_ID_SUBRANGE_WITH_DEVICE_ID_SIZE:5e16,UNAUTH_LONG_ID_SUBRANGE_WITHOUT_DEVICE_ID_SIZE:2**56-1,UNAUTH_LONG_ID_MIN:9e18,UNAUTH_LONG_ID_MAX:0x7e980f0d11490000,MARUSYA_UPLOAD_OWNER_MIN:593139650,MARUSYA_UPLOAD_OWNER_MAX:593139654,UNAUTH_LONG_ID_MIN_OLD:10000000001,UNAUTH_LONG_ID_MAX_OLD:11e10,FAKE_DOC_OWNER_MIN:2e9,FAKE_DOC_OWNER_MAX:2000063999,ADS_VIDEO_OWNER_MIN:16e6,ADS_VIDEO_OWNER_MAX:16000599,ADS_PHOTO_OWNER_MIN:1698e4,ADS_PHOTO_OWNER_MAX:16999999,AUDIO_FAKE_UMA_RELEASE_OWNER_MIN:-2002e6,AUDIO_FAKE_UMA_RELEASE_OWNER_MAX:-2001e6,AUDIO_FAKE_UMA_ALBUM_OWNER_MIN:-2000999999,AUDIO_FAKE_UMA_ALBUM_OWNER_MAX:-2e9,AUDIO_FAKE_UMA_OWNERS_COUNT:1e6,AUDIO_FAKE_WALL_OWNER_MIN:2e9,AUDIO_FAKE_WALL_OWNER_MAX:2000512e3,USERS_LOWER_BOUND:1,USERS_UPPER_BOUND:19e8,USERS_LOWER_BOUND_LONG:2e11,USERS_UPPER_BOUND_LONG:1e12,EMAIL_UPPER_BOUND:-2e9,CONTACTS_LOWER_BOUND:1900000001,CONTACTS_UPPER_BOUND:2e9,CALLS_PEER_LOWER_BOUND:-1899999999,CALLS_PEER_UPPER_BOUND:-189e7,ANONYMOUS_USER_PEER_ID_LOWER_BOUND:10000000001,ANONYMOUS_USER_PEER_ID_UPPER_BOUND:11e10,CHAT_OR_CHANNEL_LOWER_BOUND:2000000001,CHAT_OR_CHANNEL_UPPER_BOUND:21e8,GROUPS_LOWER_BOUND:-1e9,GROUPS_UPPER_BOUND:-1,APP_LOWER_BOUND:-1999999999,APP_UPPER_BOUND:-1e9,ALIEXPRESS_USER_ID_RANGE_START:2e9,ALIEXPRESS_USER_ID_RANGE_LENGTH:150,AD_BOT_ID_RANGE_START:2e9,AD_BOT_ID_RANGE_END:2000064e3,MARUSIA_AUDIO_FAKE_ID_MIN:2000512001,MARUSIA_AUDIO_FAKE_ID_MAX:2000512051,AUTOTEST_GROUP_ID_MIN:216720807,AUTOTEST_GROUP_ID_MAX:216820807,EXTERNAL_USER_ID_OFFSET:-19e8,APP_DOMAIN_ID_OFFSET:-1e9})},241448:(e,t,n)=>{n.d(t,{WebStats:()=>d});var r=n(887184),o=n(968344),s=n(930497),i=n(268443),a=n(705082),c=n(670315);class d{sendWebStats(e,t){return this.api.sendWebStats(e,t)}writeAndSendWebStats(e,t,n,r){return this.api.writeAndSendWebStats(e,t,n,r)}saveStatlogEvents(e){return this.api.saveStatlogEvents(e)}saveProductionStats(e,t){return this.api.saveProductionStats(e,t)}saveNetworkStats(e){return this.api.saveNetworkStats(e)}saveStoryViewBaseStats(e){return this.api.saveStoryViewBaseStats(e)}saveStoryViewStats(e){return this.api.saveStoryViewStats(e)}saveWebPerfStats(e){return this.api.saveWebPerfStats(e)}saveBenchmarkMainStats(e){return this.api.saveBenchmarkMainStats(e)}saveVkResStats(e){return this.api.saveVkResStats(e)}constructor({options:e,statsMeta:t,hostName:n,statlogsValueEvent:d,getBrowserFingerprint:u,sessionStorage:l,localStorage:p,smallerChunks:h,apiParams:g,createUrl:m}){this.saveCustomStats=e=>this.api.saveCustomStats(e),this.debug=new o.Debug({options:e}),this.webStatsStorage=new s.WebStatsStorage({statsMeta:t,debug:this.debug,sessionStorage:l,localStorage:p}),this.maxBodyChunkSize=h?r.MAX_BODY_SIZE_SMALL_CHUNK:r.MAX_BODY_SIZE_NORMAL_CHUNK,this.batchers=new i.Batchers({statsMeta:t,statlogsValueEvent:d,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize}),this.batchedWebStatsTransport=new a.BatchedWebStatsTransport({options:e,statsMeta:t,hostName:n,debug:this.debug,statlogsValueEvent:d,getBrowserFingerprint:u,batchers:this.batchers,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize,apiParams:g,createUrl:m}),this.api=new c.Api({webStatsStorage:this.webStatsStorage,debug:this.debug,webStatsBatchedTransport:this.batchedWebStatsTransport,options:e,localStorage:p})}}},887184:(e,t,n)=>{n.d(t,{AVAILABLE_STATS:()=>g,BOOST_COOLDOWN_MS:()=>c,BOOST_DEBOUNCE_LIMIT_MS:()=>a,BOOST_DEBOUNCE_MS:()=>i,BOOST_DURATION:()=>u,COOLDOWN_MS:()=>s,DEBOUNCE_LIMIT_MS:()=>o,DEBOUNCE_MS:()=>r,MAX_BODY_SIZE_NORMAL_CHUNK:()=>p,MAX_BODY_SIZE_SMALL_CHUNK:()=>l,PROCESSING_LIMIT:()=>d,Stats:()=>h});const r=1e4,o=2e4,s=2e4,i=1e3,a=2e3,c=5e3,d=500,u=3e4,l=.5*Math.pow(10,6),p=1.8*Math.pow(10,6),h={BenchmarkMainStats:"benchmarkMainStats",CustomStats:"customStats",NetworkStats:"networkStats",ProductionStats:"productionStats",StatlogEvents:"statlogEvents",StoryViewStats:"storyViewStats",WebPerfStats:"webPerfStats",VkResStats:"vkResStats"},g=[h.BenchmarkMainStats,h.CustomStats,h.NetworkStats,h.ProductionStats,h.StatlogEvents,h.StoryViewStats,h.WebPerfStats,h.VkResStats]},670315:(e,t,n)=>{n.d(t,{Api:()=>i});var r=n(510794),o=n(216520),s=n(887184);class i{pushToWebStats(e,t){const n=this.webStatsStorage.getWebStatsStringValue(e);return this.webStatsStorage.getWebStatDataLs().replace(`"${e}":${n}`,`"${e}":${n.replace(/]$/,`${"[]"===n?"":","}${JSON.stringify(t)}]`)}`)}transformStatlogEvent({name:e,value:t,keys:n=[]}){const r=[Math.round(Number(Date.now())/1e3),e,t,...n];return this.options?.isDebuggerMode&&console.log("Data was transformed!"),r}sendWebStats(e,t){e===s.Stats.StatlogEvents&&(t=this.transformStatlogEvent(t));const n=(0,o.getEmptyStatsData)();n[e]=[t];const r=JSON.stringify(n);return new Promise(((e,n)=>{this.webStatsBatchedTransport.sendStat(r,(()=>e()),n),this.debug.logWebStatsEvent("sendWebStatsEvent",t)}))}writeAndSendWebStats(e,t,n,r){const o=this.pushToWebStats(t,n);this.webStatsStorage.writeLocked((()=>{this.localStorage.setItem(this.webStatsStorage.lsDataKey,o),this.webStatsBatchedTransport.saveAndSendStats(o,r)})),this.debug.logWebStatsEvent(e,n)}saveStatlogEvents(e){const t=this.transformStatlogEvent(e);return this.writeAndSendWebStats("saveStatlogEvents",s.Stats.StatlogEvents,t)}saveNetworkStats(e){return this.writeAndSendWebStats("saveNetworkStats",s.Stats.NetworkStats,e)}saveStoryViewBaseStats(e){return this.writeAndSendWebStats("saveStoryViewStats",s.Stats.StoryViewStats,e)}saveStoryViewStats(e){return this.saveStoryViewBaseStats(e)}saveWebPerfStats(e){return this.writeAndSendWebStats("saveWebPerfStats",s.Stats.WebPerfStats,e)}saveBenchmarkMainStats(e){return this.writeAndSendWebStats("saveBenchmarkMainStats",s.Stats.BenchmarkMainStats,e)}saveVkResStats(e){return this.writeAndSendWebStats("saveVkResStats",s.Stats.VkResStats,[...e.details])}constructor({webStatsStorage:e,debug:t,options:n,localStorage:o,webStatsBatchedTransport:i}){this.saveProductionStats=(e,t)=>this.writeAndSendWebStats("saveProductionStats",s.Stats.ProductionStats,e,t),this.saveCustomStats=e=>this.writeAndSendWebStats("saveCustomStats",s.Stats.CustomStats,e),this.webStatsStorage=e,this.debug=t,this.options=n,this.localStorage=o||r.localStorage,this.webStatsBatchedTransport=i}}},705082:(e,t,n)=>{n.d(t,{BatchedWebStatsTransport:()=>i});var r=n(957994),o=n(216520),s=n(887184);class i{isBatchBoostRequired(){const e=this.statsMeta.started||Date.now();return Date.now()-e<=s.BOOST_DURATION}debounceMs(){return this.isBatchBoostRequired()?s.BOOST_DEBOUNCE_MS:s.DEBOUNCE_MS}limitMs(){return this.isBatchBoostRequired()?s.BOOST_DEBOUNCE_LIMIT_MS:s.DEBOUNCE_LIMIT_MS}cooldownMs(){return this.isBatchBoostRequired()?s.BOOST_COOLDOWN_MS:s.COOLDOWN_MS}penaltyMs(){return this.debounceMs()*this.sendAttempt**.5}onCooldown(){return!(Date.now()-this.webStatsStorage.getLastSendTime()>this.cooldownMs()+this.penaltyMs())}tillCooldownMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.cooldownMs()-Date.now()+this.penaltyMs())}tillLimitMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.limitMs()-Date.now())}checkWebStatsLater(){this.isSendingWebStats||this.timeoutID||(this.timeoutID=(0,o.getWindow)()?.setTimeout((()=>{const e=this.webStatsStorage.getWebStatDataLs();this.timeoutID=void 0,e.length>o.emptyStatsDataLs.length&&this.saveAndSendStats(e)}),Math.max(Math.min(this.tillLimitMs(),this.debounceMs()),this.tillCooldownMs())))}sendStatsWithBatching(e){const t=e.length>this.maxBodyChunkSize;let n=t?this.batchers.getMaximumWebStats(e):e,r=!1;if(!n)return this.isSendingWebStats=!1,this.webStatsStorage.clearLsData();n=(0,o.appendStatsMeta)(++this.sendAttempt,n,this.statsMeta),this.sendStats(n,(s=>{const i=Date.now();this.isSendingWebStats=!1,s<500&&(t&&200===s?Object.keys((0,o.getEmptyStatsData)()).forEach((e=>this.webStatsStorage.pullFromWebStats(e,n))):this.webStatsStorage.clearLsData(),this.sendAttempt=0,r=!0),(t||400===s)&&(0,o.logProcessingTime)(Date.now()-i,`${t?"prune":"clean"}${400===s?"-fail":""}`,this.statsMeta,this.statlogsValueEvent,`${e.length>>>20}M ${n.length>>>20}M`),this.checkWebStatsLater()}),(()=>{this.isSendingWebStats=!1,!r&&this.webStatsStorage.clearLsData()}))}idlizeCall(e,t){const n=t=>setTimeout((()=>e()),t);return t?.force?n(0):(0,o.getWindow)()?.requestIdleCallback?window.requestIdleCallback((()=>n(this.debounceMs())),{timeout:this.debounceMs()/2}):n(this.debounceMs())}sendStats(e,t,n){const r=new URLSearchParams,s=this.getBrowserFingerprint();s&&r.set("device_id",s);const i=r.toString(),a=this.createUrl(this.statsMeta,i),c=(e,r)=>{if(r)return void this.sendApi(e,t,n,r);const o=new XMLHttpRequest;o.withCredentials=a.includes(`tau.${this.hostName}`),o.onreadystatechange=()=>{o.readyState===XMLHttpRequest.DONE&&t(o.status)},o.onerror=n,o.open("POST",a,!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(e)};(0,o.getApiConfig)(this.apiParams).then((n=>{(0,o.canSendBeacon)(this.hostName,this.statsMeta)?(0,o.sendBeacon)(a,e,n).then((()=>t(200))).catch((()=>c(e,n))):c(e,n)}))}sendStat(e,t,n){e=(0,o.appendStatsMeta)(1,e,this.statsMeta),this.sendStats(e,t,n)}saveAndSendStats(e,t){return this.options?.isNewQueue?this.saveAndSendStatsNew(e,t):this.saveAndSendStatsOld(e,t)}saveAndSendStatsOld(e,t){const n=e.length>=this.maxBodyChunkSize,r=t?.force||n;if(e.length<=o.emptyStatsDataLs.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return r||this.timeoutID||!this.onCooldown()?(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>o.emptyStatsDataLs.length&&(r||!this.onCooldown()))return this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);clearTimeout(this.timeoutID),this.isSendingWebStats=!1,this.timeoutID=void 0}),{...t,force:r})):(this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID),this.checkWebStatsLater());this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}saveAndSendStatsNew(e,t){const n=e.length>=this.maxBodyChunkSize,r=t?.force||n;if(e.length<=o.emptyStatsDataLs.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return!r&&this.onCooldown()?(this.checkWebStatsLater(),void this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID)):(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>o.emptyStatsDataLs.length&&(!this.onCooldown()||r))return clearTimeout(this.timeoutID),this.timeoutID=void 0,this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);this.isSendingWebStats=!1}),{...t,force:r}));this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}constructor({options:e,statsMeta:t,hostName:n,debug:s,statlogsValueEvent:i,getBrowserFingerprint:a,batchers:c,webStatsStorage:d,maxBodyChunkSize:u,apiParams:l,createUrl:p}){this.sendAttempt=0,this.isSendingWebStats=!1,this.sendApi=async(e,t,n,s)=>{try{const n=JSON.stringify((0,o.transformEventsToArray)(e));await(0,r.api)(s.method,{events:n,...s.body},s.overrideApiConfig),t(200)}catch{n()}},this.options=e,this.statsMeta=t,this.hostName=n,this.debug=s,this.statlogsValueEvent=i,this.getBrowserFingerprint=a,this.batchers=c,this.webStatsStorage=d,this.maxBodyChunkSize=u,this.apiParams=l,this.createUrl=p}}},268443:(e,t,n)=>{n.d(t,{Batchers:()=>s});var r=n(887184),o=n(216520);class s{batchStaleWebStats(e,t){const[n,r]=t,s=`{"${n}":[${JSON.parse(r).reduce(((t,n,r)=>t.length<this.maxBodyChunkSize-e.length?`${t}${0===r?"":","}${JSON.stringify(n)}`:t),"")}]}`;return"{}"===e?s:(0,o.concatJSONS)(e,s)||e}getMaximumWebStats(e){const t=Date.now(),n=e=>`{${e?.map((([e,t])=>`"${e}":${t}`)).join(",")}}`,[s,i]=Object.keys((0,o.getEmptyStatsData)()).reduce(((t,n)=>{const r=this.webStatsStorage.getWebStatsStringValue(n,e);return"[]"===r?t:[...t,[n,r]]}),[]).sort((([,e],[,t])=>t.length-e.length)).reduce((([e,t],[r,o])=>{const s=[[r,o]];return o.length+n(e).length<this.maxBodyChunkSize?[e.concat(s),t]:[e,t.concat(s)]}),[[],[]]),a=n(s);if((0,o.logProcessingTime)(Date.now()-t,"chunk",this.statsMeta,this.statlogsValueEvent),Date.now()-t<r.PROCESSING_LIMIT&&i[0]&&a.length<.1*this.maxBodyChunkSize){const e=Date.now();try{const t=this.batchStaleWebStats(a,i.reverse()[0]);return(0,o.logProcessingTime)(Date.now()-e,"batch",this.statsMeta,this.statlogsValueEvent),t}catch(t){return(0,o.logProcessingTime)(Date.now()-e,"batch-fail",this.statsMeta,this.statlogsValueEvent),""}}return a}constructor({statsMeta:e,statlogsValueEvent:t,webStatsStorage:n,maxBodyChunkSize:r}){this.statsMeta=e,this.statlogsValueEvent=t,this.webStatsStorage=n,this.maxBodyChunkSize=r}}},968344:(e,t,n)=>{n.d(t,{Debug:()=>r});class r{logWebStatsEvent(e,t){this.options?.isDebuggerMode&&console.log(`[new transport debug] ${e}`,t)}constructor({options:e}){this.options=e}}},930497:(e,t,n)=>{n.d(t,{WebStatsStorage:()=>s});var r=n(510794),o=n(216520);class s{writeLocked(e){if("locked"!==this.sessionStorage.getItem(this.lockName)){this.debug.logWebStatsEvent("writeLocked","lock"),this.sessionStorage.setItem(this.lockName,"locked");try{e()}catch(e){}return this.debug.logWebStatsEvent("writeLocked","free"),void this.sessionStorage.setItem(this.lockName,"free")}setTimeout((()=>this.writeLocked(e)),100)}getWebStatDataLs(){return this.localStorage.getItem(this.lsDataKey)||o.emptyStatsDataLs}serializeDataToLs(e){return this.localStorage.setItem(this.lsDataKey,JSON.stringify(e))}getWebStatsStringValue(e,t=this.getWebStatDataLs()){const n=Object.keys((0,o.getEmptyStatsData)()).filter((t=>t!==e)).join("|"),r=t?.match(new RegExp(`"${e}":(\\[.*?\\])(?:,"(${n})":\\[|}$)`))?.[1]||"";return(0,o.isArrayLike)(r)?r:"[]"}fetchDataFromLs(){let e,t=!0;try{const n=this.getWebStatDataLs();if(!n)throw new Error("empty data");e=(0,o.getEmptyStatsData)();const r=JSON.parse(n);Object.keys(e).forEach((n=>{Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=(0,o.getEmptyStatsData)()}return{webStatsData:e,isEmpty:t}}clearLsData(e){e&&this.debug.logWebStatsEvent("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,"")))}setLastSendTime(e=Number(new Date)){this.sessionStorage.setItem(this.lsMetaKey,e.toString())}getLastSendTime(){return parseInt(`${this.sessionStorage.getItem(this.lsMetaKey)||0}`)}getWebStatsItemsCount(e){return Object.values(e).reduce(((e,t)=>e+t.length),0)}pullFromWebStats(e,t){const n=this.getWebStatsStringValue(e,t);if("[]"!==n){const e=this.getWebStatDataLs().replace(n.slice(1,-1),"").replace(/\[\,/,"[");this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,e)))}}constructor({statsMeta:e,debug:t,localStorage:n,sessionStorage:o}){this.lsDataKey=`XHR_STATS_TRANSPORT_DATA_${e.platform}`,this.lsMetaKey=`XHR_STATS_TRANSPORT_META_${e.platform}`,this.lockName=`XHR_STATS_TRANSPORT_DATA_LOCK_${e.platform}`,this.debug=t,this.localStorage=n||r.localStorage,this.sessionStorage=o||r.sessionStorage}}},510794:(e,t,n)=>{n.d(t,{CustomStorage:()=>o,localStorage:()=>l,sessionStorage:()=>g});var r=n(216520);class o{setItem(e,t){this.data[e]=String(t)}getItem(e){return this.data.hasOwnProperty(e)?this.data[e]:null}removeItem(e){delete this.data[e]}clear(){this.data={}}get length(){return Object.keys(this.data).length}key(e){return Object.keys(this.data)[e]}constructor(){this.data={},this.keys=()=>Object.keys(this.data)}}const s="vk-ls-dummy",i=Math.random().toString(),a={localStorage:null,sessionStorage:null};function c(e){if(null===a[e])try{const t=(0,r.getWindow)()?.[e];t?.setItem(s,i),a[e]=i===t?.getItem(s),t?.removeItem(s)}catch(t){a[e]=!1}return a[e]}let d;function u(){return d||(d=c("localStorage")?window.localStorage:new o,d)}const l={setItem:(e,t)=>u().setItem(e,t),getItem:e=>u().getItem(e),removeItem:e=>u().removeItem(e),clear:()=>u().clear(),get length(){return u().length},key:e=>u().key(e),keys(){const e=u();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:e=>l.keys().filter((t=>t.startsWith(e)))};let p;function h(){return p||(p=c("sessionStorage")?window.sessionStorage:new o,p)}const g={setItem:(e,t)=>h().setItem(e,t),getItem:e=>h().getItem(e),removeItem:e=>h().removeItem(e),clear:()=>h().clear(),get length(){return h().length},key:e=>h().key(e),keys(){const e=h();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:e=>g.keys().filter((t=>t.startsWith(e)))}},216520:(e,t,n)=>{n.d(t,{appendStatsMeta:()=>u,canSendBeacon:()=>l,concatJSONS:()=>a,emptyStatsDataLs:()=>g,getApiConfig:()=>f,getEmptyStatsData:()=>h,getWindow:()=>m,isArrayLike:()=>i,logProcessingTime:()=>p,sendBeacon:()=>d,transformEventsToArray:()=>c});var r=n(738150),o=n(887184);const s=e=>e.startsWith("{")&&e.endsWith("}"),i=e=>e.startsWith("[")&&e.endsWith("]"),a=(e,t)=>[e,t].every(s)?`${e.slice(0,-1)},${t.substring(1)}`:"{}",c=e=>{try{const t=JSON.parse(e),n=Object.entries(t),r=[];return n.forEach((e=>{const[t,n]=e;o.AVAILABLE_STATS.includes(t)&&Array.isArray(n)&&r.push(...n)})),r}catch{return[]}};function d(e,t,n){try{if(!(n?(0,r.apiBeacon)(n.method,{events:c(t),...n.body},n.overrideApiConfig):navigator.sendBeacon(e,t)))return Promise.reject(new Error("Beacon not sent"))}catch(e){return Promise.reject(new Error("Beacon fail"))}return Promise.resolve()}const u=(e,t,n)=>{const{userId:r,st:o,platform:i,appId:c,time:d,hash:u,itemId:l,itemOwnerId:p,itemType:h}=n;return a(JSON.stringify({id:r,st:o,platform:i,appId:c,attempt:e,signTime:d,sign:u,...l&&{itemId:l},...h&&{itemType:h},...p&&{itemOwnerId:p}}),s(t)?t:"{}")};function l(e,t){return"sendBeacon"in navigator&&!t.wsTransport.includes(`tau.${e}`)}function p(e,t,n,r,o){r?.("web_stats_batching_time",e,n.platform,t,o)}const h=()=>({statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[],benchmarkMainStats:[],vkResStats:[]}),g=JSON.stringify(h()),m=()=>"undefined"!=typeof window?window:void 0,f=async e=>{if(!e)return;const{additionalBody:t,method:n,domain:r,version:o,appId:s,getToken:i}=e;return{body:t,overrideApiConfig:{domain:r,version:o,appId:s,accessToken:await i()},method:n}}},550596:(e,t,n)=>{n.d(t,{DEBUG_BUILD:()=>r});const r=!1},712195:(e,t,n)=>{n.d(t,{clearCachedImplementation:()=>d,getNativeImplementation:()=>c});var r=n(647501),o=n(676965),s=n(550596),i=n(178579);const a={};function c(e){const t=a[e];if(t)return t;let n=i.WINDOW[e];if((0,r.isNativeFunction)(n))return a[e]=n.bind(i.WINDOW);const c=i.WINDOW.document;if(c&&"function"==typeof c.createElement)try{const t=c.createElement("iframe");t.hidden=!0,c.head.appendChild(t);const r=t.contentWindow;r?.[e]&&(n=r[e]),c.head.removeChild(t)}catch(t){s.DEBUG_BUILD&&o.logger.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?a[e]=n.bind(i.WINDOW):n}function d(e){a[e]=void 0}},866286:(e,t,n)=>{n.d(t,{addClickKeypressInstrumentationHandler:()=>l});var r=n(668254),o=n(767422),s=n(929385),i=n(178579);const a=1e3;let c,d,u;function l(e){(0,r.addHandler)("dom",e),(0,r.maybeInstrument)("dom",p)}function p(){if(!i.WINDOW.document)return;const e=r.triggerHandlers.bind(null,"dom"),t=h(e,!0);i.WINDOW.document.addEventListener("click",t,!1),i.WINDOW.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=i.WINDOW,r=n[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&((0,o.fill)(r,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){const r=h(e);s.handler=r,t.call(this,n,r,o)}s.refCount++}catch(e){}return t.call(this,n,r,o)}})),(0,o.fill)(r,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},o=n[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function h(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t?.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;(0,o.addNonEnumerableProperty)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,o.addNonEnumerableProperty)(r,"_sentryId",(0,s.uuid4)());const l="keypress"===n.type?"input":n.type;(function(e){if(e.type!==d)return!1;try{if(!e.target||e.target._sentryId!==u)return!1}catch(e){}return!0})(n)||(e({event:n,name:l,global:t}),d=n.type,u=r?r._sentryId:void 0),clearTimeout(c),c=i.WINDOW.setTimeout((()=>{u=void 0,d=void 0}),a)}}},75882:(e,t,n)=>{n.d(t,{addHistoryInstrumentationHandler:()=>c});var r=n(668254),o=n(647501),s=n(767422),i=n(178579);let a;function c(e){const t="history";(0,r.addHandler)(t,e),(0,r.maybeInstrument)(t,d)}function d(){function e(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const o=a,s=String(n);if(a=s,o===s)return e.apply(this,t);const i={from:o,to:s};(0,r.triggerHandlers)("history",i)}return e.apply(this,t)}}i.WINDOW.addEventListener("popstate",(()=>{const e=i.WINDOW.location.href,t=a;if(a=e,t===e)return;const n={from:t,to:e};(0,r.triggerHandlers)("history",n)})),(0,o.supportsHistory)()&&((0,s.fill)(i.WINDOW.history,"pushState",e),(0,s.fill)(i.WINDOW.history,"replaceState",e))}},905660:(e,t,n)=>{n.d(t,{SENTRY_XHR_DATA_KEY:()=>a,addXhrInstrumentationHandler:()=>c});var r=n(668254),o=n(254244),s=n(19325),i=n(178579);const a="__sentry_xhr_v3__";function c(e){(0,r.addHandler)("xhr",e),(0,r.maybeInstrument)("xhr",d)}function d(){if(!i.WINDOW.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const i=new Error,c=1e3*(0,o.timestampInSeconds)(),d=(0,s.isString)(n[0])?n[0].toUpperCase():void 0,u=function(e){if((0,s.isString)(e))return e;try{return e.toString()}catch{}}(n[1]);if(!d||!u)return e.apply(t,n);t[a]={method:d,url:u,request_headers:{}},"POST"===d&&u.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const l=()=>{const e=t[a];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}const n={endTimestamp:1e3*(0,o.timestampInSeconds)(),startTimestamp:c,xhr:t,virtualError:i};(0,r.triggerHandlers)("xhr",n)}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(l(),e.apply(t,n))}):t.addEventListener("readystatechange",l),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,o]=n,i=t[a];return i&&(0,s.isString)(r)&&(0,s.isString)(o)&&(i.request_headers[r.toLowerCase()]=o),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const s=t[a];if(!s)return e.apply(t,n);void 0!==n[0]&&(s.body=n[0]);const i={startTimestamp:1e3*(0,o.timestampInSeconds)(),xhr:t};return(0,r.triggerHandlers)("xhr",i),e.apply(t,n)}})}},178579:(e,t,n)=>{n.d(t,{WINDOW:()=>r});const r=n(138398).GLOBAL_OBJ},802775:(e,t,n)=>{n.d(t,{BrowserClient:()=>d});var r=n(733322),o=n(701266),s=n(990946),i=n(846828),a=n(23271),c=n(349295);class d extends r.Client{eventFromException(e,t){return(0,a.eventFromException)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return(0,a.eventFromMessage)(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e},n=c.WINDOW.SENTRY_SDK_SOURCE||(0,o.getSDKSource)();(0,s.applySdkMetadata)(t,"browser",["browser"],n),super(t),t.sendClientReports&&c.WINDOW.document&&c.WINDOW.document.addEventListener("visibilitychange",(()=>{"hidden"===c.WINDOW.document.visibilityState&&this._flushOutcomes()})),this._options.sendDefaultPii&&(this.on("postprocessEvent",i.addAutoIpAddressToUser),this.on("beforeSendSession",i.addAutoIpAddressToSession))}}},847220:(e,t,n)=>{n.d(t,{DEBUG_BUILD:()=>r});const r=!1},23271:(e,t,n)=>{n.d(t,{eventFromException:()=>_,eventFromMessage:()=>S,eventFromUnknownInput:()=>E,exceptionFromError:()=>d});var r=n(944705),o=n(50798),s=n(19325),i=n(929385),a=n(826061),c=n(767422);function d(e,t){const n=p(e,t),r={type:m(t),value:f(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function u(e,t,n,i){const a=(0,r.getClient)(),c=a?.getOptions().normalizeDepth,u=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}(t),l={__serialized__:(0,o.normalizeToSize)(t,c)};if(u)return{exception:{values:[d(e,u)]},extra:l};const h={exception:{values:[{type:(0,s.isEvent)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:b(t,{isUnhandledRejection:i})}]},extra:l};if(n){const t=p(e,n);t.length&&(h.exception.values[0].stacktrace={frames:t})}return h}function l(e,t){return{exception:{values:[d(e,t)]}}}function p(e,t){const n=t.stacktrace||t.stack||"",r=function(e){return e&&h.test(e.message)?1:0}(t),o=function(e){return"number"==typeof e.framesToPop?e.framesToPop:0}(t);try{return e(n,r,o)}catch(e){}return[]}const h=/Minified React error #\d+;/i;function g(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function m(e){const t=e?.name;return!t&&g(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}function f(e){const t=e?.message;return g(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function _(e,t,n,r){const o=E(e,t,n?.syntheticException||void 0,r);return(0,i.addExceptionMechanism)(o),o.level="error",n?.event_id&&(o.event_id=n.event_id),(0,a.resolvedSyncPromise)(o)}function S(e,t,n="info",r,o){const s=v(e,t,r?.syntheticException||void 0,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),(0,a.resolvedSyncPromise)(s)}function E(e,t,n,r,o){let a;if((0,s.isErrorEvent)(t)&&t.error)return l(e,t.error);if((0,s.isDOMError)(t)||(0,s.isDOMException)(t)){const o=t;if("stack"in t)a=l(e,t);else{const t=o.name||((0,s.isDOMError)(o)?"DOMError":"DOMException"),c=o.message?`${t}: ${o.message}`:t;a=v(e,c,n,r),(0,i.addExceptionTypeValue)(a,c)}return"code"in o&&(a.tags={...a.tags,"DOMException.code":`${o.code}`}),a}return(0,s.isError)(t)?l(e,t):(0,s.isPlainObject)(t)||(0,s.isEvent)(t)?(a=u(e,t,n,o),(0,i.addExceptionMechanism)(a,{synthetic:!0}),a):(a=v(e,t,n,r),(0,i.addExceptionTypeValue)(a,`${t}`,void 0),(0,i.addExceptionMechanism)(a,{synthetic:!0}),a)}function v(e,t,n,r){const o={};if(r&&n){const r=p(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]}),(0,i.addExceptionMechanism)(o,{synthetic:!0})}if((0,s.isParameterizedString)(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function b(e,{isUnhandledRejection:t}){const n=(0,c.extractExceptionKeysForMessage)(e),r=t?"promise rejection":"exception";return(0,s.isErrorEvent)(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:(0,s.isEvent)(e)?`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}},349295:(e,t,n)=>{n.d(t,{WINDOW:()=>c,shouldIgnoreOnError:()=>u,wrap:()=>l});var r=n(138398),o=n(767422),s=n(944705),i=n(929385),a=n(558818);const c=r.GLOBAL_OBJ;let d=0;function u(){return d>0}function l(e,t={}){if(!function(e){return"function"==typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if((0,o.getOriginalFunction)(e))return e}catch(t){return e}const n=function(...n){try{const r=n.map((e=>l(e,t)));return e.apply(this,r)}catch(e){throw d++,setTimeout((()=>{d--})),(0,s.withScope)((r=>{r.addEventProcessor((e=>(t.mechanism&&((0,i.addExceptionTypeValue)(e,void 0,void 0),(0,i.addExceptionMechanism)(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),(0,a.captureException)(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch{}(0,o.markFunctionWrapped)(n,e),(0,o.addNonEnumerableProperty)(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}},156898:(e,t,n)=>{n.d(t,{breadcrumbsIntegration:()=>v});var r=n(866286),o=n(905660),s=n(75882),i=n(515394),a=n(819479),c=n(529307),d=n(944705),u=n(606979),l=n(929385),p=n(676965),h=n(874621),g=n(825530),m=n(2556),f=n(424308),_=n(627372),S=n(847220),E=n(349295);const v=(0,c.defineIntegration)(((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){t.console&&(0,i.addConsoleInstrumentationHandler)(function(e){return function(t){if((0,d.getClient)()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:(0,g.severityLevelFromString)(t.level),message:(0,m.safeJoin)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,m.safeJoin)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,u.addBreadcrumb)(n,{input:t.args,level:t.level})}}(e)),t.dom&&(0,r.addClickKeypressInstrumentationHandler)(function(e,t){return function(n){if((0,d.getClient)()!==e)return;let r,o,s="object"==typeof t?t.serializeAttribute:void 0,i="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;i&&i>1024&&(S.DEBUG_BUILD&&p.logger.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=1024),"string"==typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=(0,h.htmlTreeAsString)(t,{keyAttrs:s,maxStringLength:i}),o=(0,h.getComponentName)(t)}catch(e){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};o&&(a.data={"ui.component_name":o}),(0,u.addBreadcrumb)(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&(0,o.addXhrInstrumentationHandler)(function(e){return function(t){if((0,d.getClient)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,s=t.xhr[o.SENTRY_XHR_DATA_KEY];if(!n||!r||!s)return;const{method:i,url:a,status_code:c,body:l}=s,p={method:i,url:a,status_code:c},h={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},g={category:"xhr",data:p,type:"http",level:(0,f.getBreadcrumbLogLevelFromHttpStatusCode)(c)};e.emit("beforeOutgoingRequestBreadcrumb",g,h),(0,u.addBreadcrumb)(g,h)}}(e)),t.fetch&&(0,a.addFetchInstrumentationHandler)(function(e){return function(t){if((0,d.getClient)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const o=t.fetchData,s={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},i={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",i,s),(0,u.addBreadcrumb)(i,s)}else{const o=t.response,s={...t.fetchData,status_code:o?.status};t.fetchData.request_body_size,t.fetchData.response_body_size;const i={input:t.args,response:o,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:s,type:"http",level:(0,f.getBreadcrumbLogLevelFromHttpStatusCode)(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,i),(0,u.addBreadcrumb)(a,i)}}}(e)),t.history&&(0,s.addHistoryInstrumentationHandler)(function(e){return function(t){if((0,d.getClient)()!==e)return;let n=t.from,r=t.to;const o=(0,_.parseUrl)(E.WINDOW.location.href);let s=n?(0,_.parseUrl)(n):void 0;const i=(0,_.parseUrl)(r);s?.path||(s=o),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),(0,u.addBreadcrumb)({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){(0,d.getClient)()===e&&(0,u.addBreadcrumb)({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,l.getEventDescription)(t)},{event:t})}}(e))}}}))},673109:(e,t,n)=>{n.d(t,{browserApiErrorsIntegration:()=>c});var r=n(767422),o=n(529307),s=n(536888),i=n(349295);const a=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],c=(0,o.defineIntegration)(((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&(0,r.fill)(i.WINDOW,"setTimeout",d),t.setInterval&&(0,r.fill)(i.WINDOW,"setInterval",d),t.requestAnimationFrame&&(0,r.fill)(i.WINDOW,"requestAnimationFrame",u),t.XMLHttpRequest&&"XMLHttpRequest"in i.WINDOW&&(0,r.fill)(XMLHttpRequest.prototype,"send",l);const e=t.eventTarget;e&&(Array.isArray(e)?e:a).forEach(p)}}}));function d(e){return function(...t){const n=t[0];return t[0]=(0,i.wrap)(n,{mechanism:{data:{function:(0,s.getFunctionName)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function u(e){return function(t){return e.apply(this,[(0,i.wrap)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,s.getFunctionName)(e)},handled:!1,type:"instrument"}})])}}function l(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&(0,r.fill)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,s.getFunctionName)(t)},handled:!1,type:"instrument"}},o=(0,r.getOriginalFunction)(t);return o&&(n.mechanism.data.handler=(0,s.getFunctionName)(o)),(0,i.wrap)(t,n)}))})),e.apply(this,t)}}function p(e){const t=i.WINDOW,n=t[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&((0,r.fill)(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=(0,i.wrap)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,s.getFunctionName)(r),target:e},handled:!1,type:"instrument"}}))}catch{}return t.apply(this,[n,(0,i.wrap)(r,{mechanism:{data:{function:"addEventListener",handler:(0,s.getFunctionName)(r),target:e},handled:!1,type:"instrument"}}),o])}})),(0,r.fill)(n,"removeEventListener",(function(e){return function(t,n,r){try{const o=n.__sentry_wrapped__;o&&e.call(this,t,o,r)}catch(e){}return e.call(this,t,n,r)}})))}},395462:(e,t,n)=>{n.d(t,{browserSessionIntegration:()=>d});var r=n(75882),o=n(529307),s=n(676965),i=n(558818),a=n(847220),c=n(349295);const d=(0,o.defineIntegration)((()=>({name:"BrowserSession",setupOnce(){void 0!==c.WINDOW.document?((0,i.startSession)({ignoreDuration:!0}),(0,i.captureSession)(),(0,r.addHistoryInstrumentationHandler)((({from:e,to:t})=>{void 0!==e&&e!==t&&((0,i.startSession)({ignoreDuration:!0}),(0,i.captureSession)())}))):a.DEBUG_BUILD&&s.logger.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}})))},993256:(e,t,n)=>{n.d(t,{contextLinesIntegration:()=>c});var r=n(138398),o=n(529307),s=n(627372),i=n(929385);const a=r.GLOBAL_OBJ,c=(0,o.defineIntegration)(((e={})=>{const t=null!=e.frameContextLines?e.frameContextLines:7;return{name:"ContextLines",processEvent:e=>function(e,t){const n=a.document,r=a.location&&(0,s.stripUrlQueryAndFragment)(a.location.href);if(!n||!r)return e;const o=e.exception?.values;if(!o?.length)return e;const c=n.documentElement.innerHTML;if(!c)return e;const d=["<!DOCTYPE html>","<html>",...c.split("\n"),"</html>"];return o.forEach((e=>{const n=e.stacktrace;n?.frames&&(n.frames=n.frames.map((e=>function(e,t,n,r){return e.filename===n&&e.lineno&&t.length?((0,i.addContextToFrame)(t,e,r),e):e}(e,d,r,t))))})),e}(e,t)}}))},848680:(e,t,n)=>{n.d(t,{globalHandlersIntegration:()=>m});var r=n(529307),o=n(388012),s=n(944705),i=n(558818),a=n(153014),c=n(19325),d=n(874621),u=n(536888),l=n(676965),p=n(847220),h=n(23271),g=n(349295);const m=(0,r.defineIntegration)(((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){(0,o.addGlobalErrorInstrumentationHandler)((t=>{const{stackParser:n,attachStacktrace:r}=_();if((0,s.getClient)()!==e||(0,g.shouldIgnoreOnError)())return;const{msg:o,url:a,line:l,column:p,error:m}=t,f=function(e,t,n,r){const o=e.exception=e.exception||{},s=o.values=o.values||[],i=s[0]=s[0]||{},a=i.stacktrace=i.stacktrace||{},l=a.frames=a.frames||[],p=r,h=n,g=(0,c.isString)(t)&&t.length>0?t:(0,d.getLocationHref)();return 0===l.length&&l.push({colno:p,filename:g,function:u.UNKNOWN_FUNCTION,in_app:!0,lineno:h}),e}((0,h.eventFromUnknownInput)(n,m||o,void 0,r,!1),a,l,p);f.level="error",(0,i.captureEvent)(f,{originalException:m,mechanism:{handled:!1,type:"onerror"}})}))}(e),f("onerror")),t.onunhandledrejection&&(function(e){(0,a.addGlobalUnhandledRejectionInstrumentationHandler)((t=>{const{stackParser:n,attachStacktrace:r}=_();if((0,s.getClient)()!==e||(0,g.shouldIgnoreOnError)())return;const o=function(e){if((0,c.isPrimitive)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),a=(0,c.isPrimitive)(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:(0,h.eventFromUnknownInput)(n,o,void 0,r,!0);a.level="error",(0,i.captureEvent)(a,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),f("onunhandledrejection"))}}}));function f(e){p.DEBUG_BUILD&&l.logger.log(`Global Handler attached: ${e}`)}function _(){const e=(0,s.getClient)();return e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}},381703:(e,t,n)=>{n.d(t,{httpContextIntegration:()=>i});var r=n(529307),o=n(874621),s=n(349295);const i=(0,r.defineIntegration)((()=>({name:"HttpContext",preprocessEvent(e){if(!s.WINDOW.navigator&&!s.WINDOW.location&&!s.WINDOW.document)return;const t=e.request?.url||(0,o.getLocationHref)(),{referrer:n}=s.WINDOW.document||{},{userAgent:r}=s.WINDOW.navigator||{},i={...e.request?.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},a={...e.request,...t&&{url:t},headers:i};e.request=a}})))},676240:(e,t,n)=>{n.d(t,{linkedErrorsIntegration:()=>i});var r=n(52036),o=n(529307),s=n(23271);const i=(0,o.defineIntegration)(((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,o,i){const a=i.getOptions();(0,r.applyAggregateErrorsToEvent)(s.exceptionFromError,a.stackParser,a.maxValueLength,n,t,e,o)}}}))},149746:(e,t,n)=>{n.d(t,{init:()=>I});var r=n(337670),o=n(812674),s=n(818270),i=n(874621),a=n(676965),c=n(647501),d=n(536888),u=n(529307),l=n(143229),p=(n(944705),n(558818),n(826425),n(802775)),h=n(847220),g=n(349295),m=n(156898),f=n(673109),_=n(395462),S=n(848680),E=n(381703),v=n(676240),b=n(443799),y=n(761285);function w(e){const t={};for(const n of Object.getOwnPropertyNames(e)){const r=n;void 0!==e[r]&&(t[r]=e[r])}return t}function I(e={}){const t=function(e={}){return{defaultIntegrations:[(0,r.inboundFiltersIntegration)(),(0,o.functionToStringIntegration)(),(0,f.browserApiErrorsIntegration)(),(0,m.breadcrumbsIntegration)(),(0,S.globalHandlersIntegration)(),(0,v.linkedErrorsIntegration)(),(0,s.dedupeIntegration)(),(0,E.httpContextIntegration)(),(0,_.browserSessionIntegration)()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:g.WINDOW.SENTRY_RELEASE?.id,sendClientReports:!0,...w(e)}}(e);if(!t.skipBrowserExtensionCheck&&function(){const e=void 0!==g.WINDOW.window&&g.WINDOW;if(!e)return!1;const t=e[e.chrome?"chrome":"browser"],n=t?.runtime?.id,r=(0,i.getLocationHref)()||"",o=!!n&&g.WINDOW===g.WINDOW.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>r.startsWith(`${e}//`))),s=void 0!==e.nw;return!!n&&!o&&!s}())return void(h.DEBUG_BUILD&&(0,a.consoleSandbox)((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")})));h.DEBUG_BUILD&&!(0,c.supportsFetch)()&&a.logger.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const n={...t,stackParser:(0,d.stackParserFromStackParserOptions)(t.stackParser||b.defaultStackParser),integrations:(0,u.getIntegrationsToSetup)(t),transport:t.transport||y.makeFetchTransport};return(0,l.initAndBind)(p.BrowserClient,n)}},443799:(e,t,n)=>{n.d(t,{defaultStackParser:()=>l});var r=n(536888);function o(e,t,n,o){const s={filename:e,function:"<anonymous>"===t?r.UNKNOWN_FUNCTION:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==o&&(s.colno=o),s}const s=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,i=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,d=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=[[30,e=>{const t=s.exec(e);if(t){const[,e,n,s]=t;return o(e,r.UNKNOWN_FUNCTION,+n,+s)}const n=i.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=a.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=p(n[1]||r.UNKNOWN_FUNCTION,n[2]);return o(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=c.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=d.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||r.UNKNOWN_FUNCTION;return[n,e]=p(n,e),o(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]],l=(0,r.createStackParser)(...u),p=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),o=-1!==e.indexOf("safari-web-extension");return n||o?[-1!==e.indexOf("@")?e.split("@")[0]:r.UNKNOWN_FUNCTION,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]}},761285:(e,t,n)=>{n.d(t,{makeFetchTransport:()=>i});var r=n(712195),o=n(826061),s=n(887091);function i(e,t=(0,r.getNativeImplementation)("fetch")){let n=0,i=0;return(0,s.createTransport)(e,(function(s){const a=s.body.length;n+=a,i++;const c={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&i<15,...e.fetchOptions};if(!t)return(0,r.clearCachedImplementation)("fetch"),(0,o.rejectedSyncPromise)("No fetch implementation available");try{return t(e.url,c).then((e=>(n-=a,i--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return(0,r.clearCachedImplementation)("fetch"),n-=a,i--,(0,o.rejectedSyncPromise)(e)}}))}},826425:(e,t,n)=>{n.d(t,{getEnvelopeEndpointWithUrlEncodedAuth:()=>i,getReportDialogEndpoint:()=>a});var r=n(367792);const o="7";function s(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function i(e,t,n){return t||`${function(e){return`${s(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:o};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}function a(e,t){const n=(0,r.makeDsn)(e);if(!n)return"";const o=`${s(n)}embed/error-page/`;let i=`dsn=${(0,r.dsnToString)(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(i+=`&name=${encodeURIComponent(e.name)}`),e.email&&(i+=`&email=${encodeURIComponent(e.email)}`)}else i+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${o}?${i}`}},923737:(e,t,n)=>{n.d(t,{getAsyncContextStrategy:()=>s});var r=n(334837),o=n(397944);function s(e){const t=(0,r.getSentryCarrier)(e);return t.acs?t.acs:(0,o.getStackAsyncContextStrategy)()}},397944:(e,t,n)=>{n.d(t,{getStackAsyncContextStrategy:()=>p});var r=n(946741),o=n(411817),s=n(19325),i=n(334837);class a{withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return(0,s.isThenable)(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}constructor(e,t){let n,r;n=e||new o.Scope,r=t||new o.Scope,this._stack=[{scope:n}],this._isolationScope=r}}function c(){const e=(0,i.getMainCarrier)(),t=(0,i.getSentryCarrier)(e);return t.stack=t.stack||new a((0,r.getDefaultCurrentScope)(),(0,r.getDefaultIsolationScope)())}function d(e){return c().withScope(e)}function u(e,t){const n=c();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function l(e){return c().withScope((()=>e(c().getIsolationScope())))}function p(){return{withIsolationScope:l,withScope:d,withSetScope:u,withSetIsolationScope:(e,t)=>l(t),getCurrentScope:()=>c().getScope(),getIsolationScope:()=>c().getIsolationScope()}}},606979:(e,t,n)=>{n.d(t,{addBreadcrumb:()=>a});var r=n(944705),o=n(676965),s=n(254244);const i=100;function a(e,t){const n=(0,r.getClient)(),a=(0,r.getIsolationScope)();if(!n)return;const{beforeBreadcrumb:c=null,maxBreadcrumbs:d=i}=n.getOptions();if(d<=0)return;const u={timestamp:(0,s.dateTimestampInSeconds)(),...e},l=c?(0,o.consoleSandbox)((()=>c(u,t))):u;null!==l&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),a.addBreadcrumb(l,d))}},334837:(e,t,n)=>{n.d(t,{getGlobalSingleton:()=>a,getMainCarrier:()=>s,getSentryCarrier:()=>i});var r=n(279365),o=n(138398);function s(){return i(o.GLOBAL_OBJ),o.GLOBAL_OBJ}function i(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||r.SDK_VERSION,t[r.SDK_VERSION]=t[r.SDK_VERSION]||{}}function a(e,t,n=o.GLOBAL_OBJ){const s=n.__SENTRY__=n.__SENTRY__||{},i=s[r.SDK_VERSION]=s[r.SDK_VERSION]||{};return i[e]||(i[e]=t())}},733322:(e,t,n)=>{n.d(t,{Client:()=>T});var r=n(826425),o=n(605944),s=n(944705),i=n(786207),a=n(438141),c=n(529307),d=n(719873),u=n(1649),l=n(61704),p=n(367792),h=n(161521),g=n(515703),m=n(19325),f=n(676965),_=n(929385),S=n(826061),E=n(465718),v=n(53915),b=n(839092),y=n(888514),w=n(197894),I=n(167999);const A="Not capturing exception because it's already been captured.",O="Discarded session because of missing or non-string release";class T{captureException(e,t,n){const r=(0,_.uuid4)();if((0,_.checkOrSetAlreadyCaught)(e))return i.DEBUG_BUILD&&f.logger.log(A),r;const o={event_id:r,...t};return this._process(this.eventFromException(e,o).then((e=>this._captureEvent(e,o,n)))),o.event_id}captureMessage(e,t,n,r){const o={event_id:(0,_.uuid4)(),...n},s=(0,m.isParameterizedString)(e)?e:String(e),i=(0,m.isPrimitive)(e)?this.eventFromMessage(s,t,o):this.eventFromException(e,o);return this._process(i.then((e=>this._captureEvent(e,o,r)))),o.event_id}captureEvent(e,t,n){const r=(0,_.uuid4)();if(t?.originalException&&(0,_.checkOrSetAlreadyCaught)(t.originalException))return i.DEBUG_BUILD&&f.logger.log(A),r;const o={event_id:r,...t},s=e.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(e,o,a||n,c)),o.event_id}captureSession(e){this.sendSession(e),(0,d.updateSession)(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):(0,S.resolvedSyncPromise)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];(0,c.setupIntegration)(this,e,this._integrations),t||(0,c.afterSetupIntegrations)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=(0,a.createEventEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=(0,h.addItemToEnvelope)(n,(0,h.createAttachmentEnvelopeItem)(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const{release:t,environment:n=o.DEFAULT_ENVIRONMENT}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void(i.DEBUG_BUILD&&f.logger.warn(O));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void(i.DEBUG_BUILD&&f.logger.warn(O));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=(0,a.createSessionEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){const r=`${e}:${t}`;i.DEBUG_BUILD&&f.logger.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(i.DEBUG_BUILD&&f.logger.error("Error while sending envelope:",e),e))):(i.DEBUG_BUILD&&f.logger.error("Transport disabled"),(0,S.resolvedSyncPromise)({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(0,c.setupIntegrations)(this,e),(0,c.afterSetupIntegrations)(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1;const o=t.exception?.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(!1===t?.handled){n=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&n)&&((0,d.updateSession)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new S.SyncPromise((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i?.length&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),(0,y.prepareEvent)(o,e,t,n,this,r).then((e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts={trace:(0,s.getTraceContextFromScope)(n),...e.contexts};const r=(0,u.getDynamicSamplingContextFromScope)(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:r,...e.sdkProcessingMetadata},e}))}_captureEvent(e,t={},n=(0,s.getCurrentScope)(),r=(0,s.getIsolationScope)()){return i.DEBUG_BUILD&&R(e)&&f.logger.log(`Captured error event \`${(0,E.getPossibleEventMessages)(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then((e=>e.event_id),(e=>{i.DEBUG_BUILD&&(e instanceof g.SentryError&&"log"===e.logLevel?f.logger.log(e.message):f.logger.warn(e))}))}_processEvent(e,t,n,r){const o=this.getOptions(),{sampleRate:s}=o,i=k(e),a=R(e),c=e.type||"error",d=`before send for type \`${c}\``,u=void 0===s?void 0:(0,b.parseSampleRate)(s);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error"),(0,S.rejectedSyncPromise)(new g.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const l="replay_event"===c?"replay":c;return this._prepareEvent(e,t,n,r).then((e=>{if(null===e)throw this.recordDroppedEvent("event_processor",l),new g.SentryError("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,r){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i}=t;let a=n;if(R(a)&&o)return o(a,r);if(k(a)){if(i){const e=i((0,I.convertTransactionEventToSpanJson)(a));if(e?a=(0,v.merge)(n,(0,I.convertSpanJsonToTransactionEvent)(e)):(0,w.showSpanDropWarning)(),a.spans){const e=[];for(const t of a.spans){const n=i(t);n?e.push(n):((0,w.showSpanDropWarning)(),e.push(t))}a.spans=e}}if(s){if(a.spans){const e=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(a,r)}}return a}(0,o,e,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,m.isThenable)(e))return e.then((e=>{if(!(0,m.isPlainObject)(e)&&null!==e)throw new g.SentryError(n);return e}),(e=>{throw new g.SentryError(`${t} rejected with ${e}`)}));if(!(0,m.isPlainObject)(e)&&null!==e)throw new g.SentryError(n);return e}(n,d)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",l),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new g.SentryError(`${d} returned \`null\`, will not send event.`,"log")}const s=n.getSession()||r.getSession();if(a&&s&&this._updateSessionFromEvent(s,o),i){const e=(o.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const c=o.transaction_info;if(i&&c&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...c,source:e}}return this.sendEvent(o,t),o})).then(null,(e=>{if(e instanceof g.SentryError)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new g.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){i.DEBUG_BUILD&&f.logger.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(i.DEBUG_BUILD&&f.logger.log("No outcomes to send"));if(!this._dsn)return void(i.DEBUG_BUILD&&f.logger.log("No dsn provided, will not send outcomes"));i.DEBUG_BUILD&&f.logger.log("Sending outcomes:",e);const t=(0,l.createClientReportEnvelope)(e,this._options.tunnel&&(0,p.dsnToString)(this._dsn));this.sendEnvelope(t)}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,p.makeDsn)(e.dsn):i.DEBUG_BUILD&&f.logger.warn("No DSN provided, client will not send events."),this._dsn){const t=(0,r.getEnvelopeEndpointWithUrlEncodedAuth)(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}}function R(e){return void 0===e.type}function k(e){return"transaction"===e.type}},605944:(e,t,n)=>{n.d(t,{DEFAULT_ENVIRONMENT:()=>r});const r="production"},944705:(e,t,n)=>{n.d(t,{getClient:()=>h,getCurrentScope:()=>c,getGlobalScope:()=>u,getIsolationScope:()=>d,getTraceContextFromScope:()=>g,withIsolationScope:()=>p,withScope:()=>l});var r=n(923737),o=n(334837),s=n(411817),i=n(767422),a=n(844228);function c(){const e=(0,o.getMainCarrier)();return(0,r.getAsyncContextStrategy)(e).getCurrentScope()}function d(){const e=(0,o.getMainCarrier)();return(0,r.getAsyncContextStrategy)(e).getIsolationScope()}function u(){return(0,o.getGlobalSingleton)("globalScope",(()=>new s.Scope))}function l(...e){const t=(0,o.getMainCarrier)(),n=(0,r.getAsyncContextStrategy)(t);if(2===e.length){const[t,r]=e;return t?n.withSetScope(t,r):n.withScope(r)}return n.withScope(e[0])}function p(...e){const t=(0,o.getMainCarrier)(),n=(0,r.getAsyncContextStrategy)(t);if(2===e.length){const[t,r]=e;return t?n.withSetIsolationScope(t,r):n.withIsolationScope(r)}return n.withIsolationScope(e[0])}function h(){return c().getClient()}function g(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t;return(0,i.dropUndefinedKeys)({trace_id:n,span_id:o||(0,a.generateSpanId)(),parent_span_id:r})}},786207:(e,t,n)=>{n.d(t,{DEBUG_BUILD:()=>r});const r=!1},946741:(e,t,n)=>{n.d(t,{getDefaultCurrentScope:()=>s,getDefaultIsolationScope:()=>i});var r=n(334837),o=n(411817);function s(){return(0,r.getGlobalSingleton)("defaultCurrentScope",(()=>new o.Scope))}function i(){return(0,r.getGlobalSingleton)("defaultIsolationScope",(()=>new o.Scope))}},438141:(e,t,n)=>{n.d(t,{createEventEnvelope:()=>i,createSessionEnvelope:()=>s}),n(1649);var r=n(367792),o=n(161521);function s(e,t,n,s){const i=(0,o.getSdkMetadataForEnvelopeHeader)(n),a={sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!s&&t&&{dsn:(0,r.dsnToString)(t)}},c="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,o.createEnvelope)(a,[c])}function i(e,t,n,r){const s=(0,o.getSdkMetadataForEnvelopeHeader)(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n?.sdk);const a=(0,o.createEventEnvelopeHeaders)(e,s,r,t);delete e.sdkProcessingMetadata;const c=[{type:i},e];return(0,o.createEnvelope)(a,[c])}n(197894)},641392:(e,t,n)=>{n.d(t,{notifyEventProcessors:()=>a});var r=n(786207),o=n(19325),s=n(676965),i=n(826061);function a(e,t,n,c=0){return new i.SyncPromise(((i,d)=>{const u=e[c];if(null===t||"function"!=typeof u)i(t);else{const l=u({...t},n);r.DEBUG_BUILD&&u.id&&null===l&&s.logger.log(`Event processor "${u.id}" dropped event`),(0,o.isThenable)(l)?l.then((t=>a(e,t,n,c+1).then(i))).then(null,d):a(e,l,n,c+1).then(i).then(null,d)}}))}},558818:(e,t,n)=>{n.d(t,{captureEvent:()=>c,captureException:()=>a,captureSession:()=>h,lastEventId:()=>d,startSession:()=>u});var r=n(944705),o=(n(786207),n(719873)),s=(n(19325),n(676965),n(929385),n(254244),n(138398)),i=n(888514);function a(e,t){return(0,r.getCurrentScope)().captureException(e,(0,i.parseEventHintOrCaptureContext)(t))}function c(e,t){return(0,r.getCurrentScope)().captureEvent(e,t)}function d(){return(0,r.getIsolationScope)().lastEventId()}function u(e){const t=(0,r.getIsolationScope)(),n=(0,r.getCurrentScope)(),{userAgent:i}=s.GLOBAL_OBJ.navigator||{},a=(0,o.makeSession)({user:n.getUser()||t.getUser(),...i&&{userAgent:i},...e}),c=t.getSession();return"ok"===c?.status&&(0,o.updateSession)(c,{status:"exited"}),l(),t.setSession(a),a}function l(){const e=(0,r.getIsolationScope)(),t=(0,r.getCurrentScope)().getSession()||e.getSession();t&&(0,o.closeSession)(t),p(),e.setSession()}function p(){const e=(0,r.getIsolationScope)(),t=(0,r.getClient)(),n=e.getSession();n&&t&&t.captureSession(n)}function h(e=!1){e?l():p()}},529307:(e,t,n)=>{n.d(t,{afterSetupIntegrations:()=>c,defineIntegration:()=>u,getIntegrationsToSetup:()=>i,setupIntegration:()=>d,setupIntegrations:()=>a}),n(944705);var r=n(786207),o=n(676965);const s=[];function i(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach((e=>{e.isDefaultInstance=!0})),Array.isArray(n))r=[...t,...n];else if("function"==typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r)}function a(e,t){const n={};return t.forEach((t=>{t&&d(e,t,n)})),n}function c(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function d(e,t,n){if(n[t.name])r.DEBUG_BUILD&&o.logger.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===s.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),s.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}r.DEBUG_BUILD&&o.logger.log(`Integration installed: ${t.name}`)}}function u(e){return e}},818270:(e,t,n)=>{n.d(t,{dedupeIntegration:()=>a});var r=n(529307),o=n(786207),s=n(676965),i=n(536888);const a=(0,r.defineIntegration)((()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!d(e,t)&&!!c(e,t))))}(e,t)||!!function(e,t){const n=u(t),r=u(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!d(e,t)&&!!c(e,t)))}(e,t))}(t,e))return o.DEBUG_BUILD&&s.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}));function c(e,t){let n=(0,i.getFramesFromEvent)(e),r=(0,i.getFramesFromEvent)(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function d(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function u(e){return e.exception?.values&&e.exception.values[0]}},337670:(e,t,n)=>{n.d(t,{inboundFiltersIntegration:()=>l});var r=n(786207),o=n(529307),s=n(676965),i=n(929385),a=n(2556),c=n(465718);const d=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],u=(0,o.defineIntegration)(((e={})=>({name:"EventFilters",processEvent(t,n,o){const u=o.getOptions(),l=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:d],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,u);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(r.DEBUG_BUILD&&s.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,i.getEventDescription)(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&(0,c.getPossibleEventMessages)(e).some((e=>(0,a.stringMatchesSomePattern)(e,t)))}(e,t.ignoreErrors)?(r.DEBUG_BUILD&&s.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,i.getEventDescription)(e)}`),!0):function(e){return!e.type&&(!!e.exception?.values?.length&&(!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))))}(e)?(r.DEBUG_BUILD&&s.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${(0,i.getEventDescription)(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,a.stringMatchesSomePattern)(n,t)}(e,t.ignoreTransactions)?(r.DEBUG_BUILD&&s.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,i.getEventDescription)(e)}`),!0):function(e,t){if(!t?.length)return!1;const n=p(e);return!!n&&(0,a.stringMatchesSomePattern)(n,t)}(e,t.denyUrls)?(r.DEBUG_BUILD&&s.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,i.getEventDescription)(e)}.\nUrl: ${p(e)}`),!0):!function(e,t){if(!t?.length)return!0;const n=p(e);return!n||(0,a.stringMatchesSomePattern)(n,t)}(e,t.allowUrls)&&(r.DEBUG_BUILD&&s.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,i.getEventDescription)(e)}.\nUrl: ${p(e)}`),!0)}(t,l)?null:t}}))),l=(0,o.defineIntegration)(((e={})=>({...u(e),name:"InboundFilters"})));function p(e){try{const t=[...e.exception?.values??[]].reverse().find((e=>void 0===e.mechanism?.parent_id&&e.stacktrace?.frames?.length)),n=t?.stacktrace?.frames;return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(t){return r.DEBUG_BUILD&&s.logger.error(`Cannot extract url for event ${(0,i.getEventDescription)(e)}`),null}}},961933:(e,t,n)=>{n.d(t,{extraErrorDataIntegration:()=>u});var r=n(529307),o=n(786207),s=n(19325),i=n(676965),a=n(50798),c=n(767422),d=n(2556);const u=(0,r.defineIntegration)(((e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:"ExtraErrorData",processEvent(e,r,u){const{maxValueLength:l=250}=u.getOptions();return function(e,t={},n,r,u){if(!t.originalException||!(0,s.isError)(t.originalException))return e;const l=t.originalException.name||t.originalException.constructor.name,p=function(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const t of Object.keys(e)){if(-1!==r.indexOf(t))continue;const i=e[t];o[t]=(0,s.isError)(i)||"string"==typeof i?(0,d.truncate)(`${i}`,n):i}if(t&&void 0!==e.cause&&(o.cause=(0,s.isError)(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];o[e]=(0,s.isError)(n)?n.toString():n}}return o}catch(e){o.DEBUG_BUILD&&i.logger.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,r,u);if(p){const t={...e.contexts},r=(0,a.normalize)(p,n);return(0,s.isPlainObject)(r)&&((0,c.addNonEnumerableProperty)(r,"__sentry_skip_normalization__",!0),t[l]=r),{...e,contexts:t}}return e}(e,r,t,n,l)}}}))},812674:(e,t,n)=>{n.d(t,{functionToStringIntegration:()=>c});var r=n(944705),o=n(529307),s=n(767422);let i;const a=new WeakMap,c=(0,o.defineIntegration)((()=>({name:"FunctionToString",setupOnce(){i=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,s.getOriginalFunction)(this),n=a.has((0,r.getClient)())&&void 0!==t?t:this;return i.apply(n,e)}}catch{}},setup(e){a.set(e,!0)}})))},411817:(e,t,n)=>{n.d(t,{Scope:()=>l});var r=n(719873),o=n(19325),s=n(676965),i=n(929385),a=n(844228),c=n(254244),d=n(53915),u=n(239700);class l{clone(){const e=new l;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,(0,u._setSpanForScope)(e,(0,u._getSpanForScope)(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,r.updateSession)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,n=t instanceof l?t.getScopeData():(0,o.isPlainObject)(t)?e:void 0,{tags:r,extra:s,user:i,contexts:a,level:c,fingerprint:d=[],propagationContext:u}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...s},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),c&&(this._level=c),d.length&&(this._fingerprint=d),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,(0,u._setSpanForScope)(this,void 0),this._attachments=[],this.setPropagationContext({traceId:(0,a.generateTraceId)(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,c.dateTimestampInSeconds)(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,u._getSpanForScope)(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=(0,d.merge)(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t?.event_id||(0,i.uuid4)();if(!this._client)return s.logger.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n?.event_id||(0,i.uuid4)();if(!this._client)return s.logger.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t?.event_id||(0,i.uuid4)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(s.logger.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:(0,a.generateTraceId)(),sampleRand:Math.random()}}}},143229:(e,t,n)=>{n.d(t,{initAndBind:()=>i});var r=n(944705),o=n(786207),s=n(676965);function i(e,t){!0===t.debug&&(o.DEBUG_BUILD?s.logger.enable():(0,s.consoleSandbox)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),(0,r.getCurrentScope)().update(t.initialScope);const n=new e(t);return function(e){(0,r.getCurrentScope)().setClient(e)}(n),n.init(),n}},490812:(e,t,n)=>{n.d(t,{SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME:()=>d,SEMANTIC_ATTRIBUTE_PROFILE_ID:()=>c,SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME:()=>a,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>s,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>i,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>o,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>r});const r="sentry.source",o="sentry.sample_rate",s="sentry.op",i="sentry.origin",a="sentry.custom_span_name",c="sentry.profile_id",d="sentry.exclusive_time"},719873:(e,t,n)=>{n.d(t,{closeSession:()=>c,makeSession:()=>i,updateSession:()=>a});var r=n(767422),o=n(254244),s=n(929385);function i(e){const t=(0,o.timestampInSeconds)(),n={sid:(0,s.uuid4)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,r.dropUndefinedKeys)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&a(n,e),n}function a(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,o.timestampInSeconds)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,s.uuid4)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},1649:(e,t,n)=>{n.d(t,{getDynamicSamplingContextFromScope:()=>h,getDynamicSamplingContextFromSpan:()=>g});var r=n(605944),o=n(944705),s=n(490812),i=n(667899),a=n(767422),c=n(476677),d=n(197894),u=n(425001);const l="_frozenDsc";function p(e,t){const n=t.getOptions(),{publicKey:o}=t.getDsn()||{},s=(0,a.dropUndefinedKeys)({environment:n.environment||r.DEFAULT_ENVIRONMENT,release:n.release,public_key:o,trace_id:e});return t.emit("createDsc",s),s}function h(e,t){const n=t.getPropagationContext();return n.dsc||p(n.traceId,e)}function g(e){const t=(0,o.getClient)();if(!t)return{};const n=(0,d.getRootSpan)(e),r=(0,d.spanToJSON)(n),a=r.data,h=n.spanContext().traceState,g=h?.get("sentry.sample_rate")??a[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];function m(e){return"number"!=typeof g&&"string"!=typeof g||(e.sample_rate=`${g}`),e}const f=n[l];if(f)return m(f);const _=h?.get("sentry.dsc"),S=_&&(0,i.baggageHeaderToDynamicSamplingContext)(_);if(S)return m(S);const E=p(e.spanContext().traceId,t),v=a[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],b=r.description;return"url"!==v&&b&&(E.transaction=b),(0,c.hasSpansEnabled)()&&(E.sampled=String((0,d.spanIsSampled)(n)),E.sample_rand=h?.get("sentry.sample_rand")??(0,u.getCapturedScopesOnSpan)(n).scope?.getPropagationContext().sampleRand.toString()),m(E),t.emit("createDsc",E,n),E}},538344:(e,t,n)=>{n.d(t,{SPAN_STATUS_OK:()=>o,SPAN_STATUS_UNSET:()=>r});const r=0,o=1},425001:(e,t,n)=>{n.d(t,{getCapturedScopesOnSpan:()=>s}),n(767422);const r="_sentryScope",o="_sentryIsolationScope";function s(e){return{scope:e[r],isolationScope:e[o]}}},887091:(e,t,n)=>{n.d(t,{createTransport:()=>l});var r=n(786207),o=n(161521),s=n(515703),i=n(676965),a=n(856030),c=n(562292),d=n(826061);const u=64;function l(e,t,n=(0,a.makePromiseBuffer)(e.bufferSize||u)){let l={};return{send:function(a){const u=[];if((0,o.forEachEnvelopeItem)(a,((t,n)=>{const r=(0,o.envelopeItemTypeToDataCategory)(n);(0,c.isRateLimited)(l,r)?e.recordDroppedEvent("ratelimit_backoff",r):u.push(t)})),0===u.length)return(0,d.resolvedSyncPromise)({});const p=(0,o.createEnvelope)(a[0],u),h=t=>{(0,o.forEachEnvelopeItem)(p,((n,r)=>{e.recordDroppedEvent(t,(0,o.envelopeItemTypeToDataCategory)(r))}))};return n.add((()=>t({body:(0,o.serializeEnvelope)(p)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&r.DEBUG_BUILD&&i.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),l=(0,c.updateRateLimits)(l,e),e)),(e=>{throw h("network_error"),e})))).then((e=>e),(e=>{if(e instanceof s.SentryError)return r.DEBUG_BUILD&&i.logger.error("Skipped sending event because buffer is full."),h("queue_overflow"),(0,d.resolvedSyncPromise)({});throw e}))},flush:e=>n.drain(e)}}},52036:(e,t,n)=>{n.d(t,{applyAggregateErrorsToEvent:()=>s});var r=n(19325),o=n(2556);function s(e,t,n=250,s,a,c,d){if(!c.exception?.values||!d||!(0,r.isInstanceOf)(d.originalException,Error))return;const u=c.exception.values.length>0?c.exception.values[c.exception.values.length-1]:void 0;var l,p;u&&(c.exception.values=(l=i(e,t,a,d.originalException,s,c.exception.values,u,0),p=n,l.map((e=>(e.value&&(e.value=(0,o.truncate)(e.value,p)),e)))))}function i(e,t,n,o,s,d,u,l){if(d.length>=n+1)return d;let p=[...d];if((0,r.isInstanceOf)(o[s],Error)){a(u,l);const r=e(t,o[s]),d=p.length;c(r,s,d,l),p=i(e,t,n,o[s],s,[r,...p],r,d)}return Array.isArray(o.errors)&&o.errors.forEach(((o,d)=>{if((0,r.isInstanceOf)(o,Error)){a(u,l);const r=e(t,o),h=p.length;c(r,`errors[${d}]`,h,l),p=i(e,t,n,o,s,[r,...p],r,h)}})),p}function a(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function c(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}},667899:(e,t,n)=>{n.d(t,{baggageHeaderToDynamicSamplingContext:()=>d,dynamicSamplingContextToSentryBaggageHeader:()=>u});var r=n(676003),o=n(19325),s=n(676965);const i="sentry-",a=/^sentry-/,c=8192;function d(e){const t=function(e){if(e&&((0,o.isString)(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce(((e,t)=>{const n=l(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{}):l(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(a)&&(e[t.slice(i.length)]=n),e)),{});return Object.keys(n).length>0?n:void 0}function u(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce(((e,[t,n],o)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,a=0===o?i:`${e},${i}`;return a.length>c?(r.DEBUG_BUILD&&s.logger.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${i}${t}`]=n),e)),{}))}function l(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}},424308:(e,t,n)=>{function r(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}n.d(t,{getBreadcrumbLogLevelFromHttpStatusCode:()=>r})},874621:(e,t,n)=>{n.d(t,{getComponentName:()=>d,getLocationHref:()=>c,htmlTreeAsString:()=>i});var r=n(19325);const o=n(138398).GLOBAL_OBJ,s=80;function i(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,c=0;const d=" > ",u=d.length;let l;const p=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||s;for(;n&&i++<r&&(l=a(n,p),!("html"===l||i>1&&c+o.length*u+l.length>=h));)o.push(l),c+=l.length,n=n.parentNode;return o.reverse().join(d)}catch(e){return"<unknown>"}}function a(e,t){const n=e,s=[];if(!n?.tagName)return"";if(o.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}s.push(n.tagName.toLowerCase());const i=t?.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i?.length)i.forEach((e=>{s.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&s.push(`#${n.id}`);const e=n.className;if(e&&(0,r.isString)(e)){const t=e.split(/\s+/);for(const e of t)s.push(`.${e}`)}}const a=["aria-label","type","name","title","alt"];for(const e of a){const t=n.getAttribute(e);t&&s.push(`[${e}="${t}"]`)}return s.join("")}function c(){try{return o.document.location.href}catch(e){return""}}function d(e){if(!o.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},61704:(e,t,n)=>{n.d(t,{createClientReportEnvelope:()=>s});var r=n(161521),o=n(254244);function s(e,t,n){const s=[{type:"client_report"},{timestamp:n||(0,o.dateTimestampInSeconds)(),discarded_events:e}];return(0,r.createEnvelope)(t?{dsn:t}:{},[s])}},676003:(e,t,n)=>{n.d(t,{DEBUG_BUILD:()=>r});const r=!1},742545:(e,t,n)=>{n.d(t,{getFilenameToDebugIdMap:()=>a});var r=n(138398);let o,s,i;function a(e){const t=r.GLOBAL_OBJ._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return i&&n.length===s||(s=n.length,i=n.reduce(((n,r)=>{o||(o={});const s=o[r];if(s)n[s[0]]=s[1];else{const s=e(r);for(let e=s.length-1;e>=0;e--){const i=s[e],a=i?.filename,c=t[r];if(a&&c){n[a]=c,o[r]=[a,c];break}}}return n}),{})),i}},367792:(e,t,n)=>{n.d(t,{dsnToString:()=>i,makeDsn:()=>c});var r=n(676003),o=n(676965);const s=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${i}`}function a(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function c(e){const t="string"==typeof e?function(e){const t=s.exec(e);if(!t)return void(0,o.consoleSandbox)((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",c="",d="",u=""]=t.slice(1);let l="",p=u;const h=p.split("/");if(h.length>1&&(l=h.slice(0,-1).join("/"),p=h.pop()),p){const e=p.match(/^\d+/);e&&(p=e[0])}return a({host:c,pass:i,path:l,projectId:p,port:d,protocol:n,publicKey:r})}(e):a(e);if(t&&function(e){if(!r.DEBUG_BUILD)return!0;const{port:t,projectId:n,protocol:s}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(o.logger.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(s)?t&&isNaN(parseInt(t,10))&&(o.logger.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(o.logger.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(o.logger.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}},701266:(e,t,n)=>{function r(){return"npm"}n.d(t,{getSDKSource:()=>r})},161521:(e,t,n)=>{n.d(t,{addItemToEnvelope:()=>d,createAttachmentEnvelopeItem:()=>g,createEnvelope:()=>c,createEventEnvelopeHeaders:()=>S,createSpanEnvelopeItem:()=>h,envelopeItemTypeToDataCategory:()=>f,forEachEnvelopeItem:()=>u,getSdkMetadataForEnvelopeHeader:()=>_,serializeEnvelope:()=>p});var r=n(334837),o=n(367792),s=n(50798),i=n(767422),a=n(138398);function c(e,t=[]){return[e,t]}function d(e,t){const[n,r]=e;return[n,[...r,t]]}function u(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function l(e){const t=(0,r.getSentryCarrier)(a.GLOBAL_OBJ);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function p(e){const[t,n]=e;let r=JSON.stringify(t);function o(e){"string"==typeof r?r="string"==typeof e?r+e:[l(r),e]:r.push("string"==typeof e?l(e):e)}for(const e of n){const[n,r]=e;if(o(`\n${JSON.stringify(n)}\n`),"string"==typeof r||r instanceof Uint8Array)o(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify((0,s.normalize)(r))}o(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function h(e){return[{type:"span"},e]}function g(e){const t="string"==typeof e.data?l(e.data):e.data;return[(0,i.dropUndefinedKeys)({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const m={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",otel_log:"log_item"};function f(e){return m[e]}function _(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function S(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:(0,o.dsnToString)(r)},...s&&{trace:(0,i.dropUndefinedKeys)({...s})}}}},515703:(e,t,n)=>{n.d(t,{SentryError:()=>r});class r extends Error{constructor(e,t="warn"){super(e),this.message=e,this.logLevel=t}}},515394:(e,t,n)=>{n.d(t,{addConsoleInstrumentationHandler:()=>a});var r=n(676965),o=n(767422),s=n(138398),i=n(668254);function a(e){const t="console";(0,i.addHandler)(t,e),(0,i.maybeInstrument)(t,c)}function c(){"console"in s.GLOBAL_OBJ&&r.CONSOLE_LEVELS.forEach((function(e){e in s.GLOBAL_OBJ.console&&(0,o.fill)(s.GLOBAL_OBJ.console,e,(function(t){return r.originalConsoleMethods[e]=t,function(...t){const n={args:t,level:e};(0,i.triggerHandlers)("console",n);const o=r.originalConsoleMethods[e];o?.apply(s.GLOBAL_OBJ.console,t)}}))}))}},819479:(e,t,n)=>{n.d(t,{addFetchInstrumentationHandler:()=>d});var r=n(19325),o=n(767422),s=n(647501),i=n(254244),a=n(138398),c=n(668254);function d(e,t){const n="fetch";(0,c.addHandler)(n,e),(0,c.maybeInstrument)(n,(()=>function(e,t=!1){t&&!(0,s.supportsNativeFetch)()||(0,o.fill)(a.GLOBAL_OBJ,"fetch",(function(t){return function(...n){const s=new Error,{method:d,url:p}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:l(t),method:u(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:l(t),method:u(t,"method")?String(t.method).toUpperCase():"GET"}}(n),h={args:n,fetchData:{method:d,url:p},startTimestamp:1e3*(0,i.timestampInSeconds)(),virtualError:s};return e||(0,c.triggerHandlers)("fetch",{...h}),t.apply(a.GLOBAL_OBJ,n).then((async t=>(e?e(t):(0,c.triggerHandlers)("fetch",{...h,endTimestamp:1e3*(0,i.timestampInSeconds)(),response:t}),t)),(e=>{throw(0,c.triggerHandlers)("fetch",{...h,endTimestamp:1e3*(0,i.timestampInSeconds)(),error:e}),(0,r.isError)(e)&&void 0===e.stack&&(e.stack=s.stack,(0,o.addNonEnumerableProperty)(e,"framesToPop",1)),e}))}}))}(void 0,t)))}function u(e,t){return!!e&&"object"==typeof e&&!!e[t]}function l(e){return"string"==typeof e?e:e?u(e,"url")?e.url:e.toString?e.toString():"":""}},388012:(e,t,n)=>{n.d(t,{addGlobalErrorInstrumentationHandler:()=>i});var r=n(138398),o=n(668254);let s=null;function i(e){const t="error";(0,o.addHandler)(t,e),(0,o.maybeInstrument)(t,a)}function a(){s=r.GLOBAL_OBJ.onerror,r.GLOBAL_OBJ.onerror=function(e,t,n,r,i){const a={column:r,error:i,line:n,msg:e,url:t};return(0,o.triggerHandlers)("error",a),!!s&&s.apply(this,arguments)},r.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}},153014:(e,t,n)=>{n.d(t,{addGlobalUnhandledRejectionInstrumentationHandler:()=>i});var r=n(138398),o=n(668254);let s=null;function i(e){const t="unhandledrejection";(0,o.addHandler)(t,e),(0,o.maybeInstrument)(t,a)}function a(){s=r.GLOBAL_OBJ.onunhandledrejection,r.GLOBAL_OBJ.onunhandledrejection=function(e){const t=e;return(0,o.triggerHandlers)("unhandledrejection",t),!s||s.apply(this,arguments)},r.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},668254:(e,t,n)=>{n.d(t,{addHandler:()=>c,maybeInstrument:()=>d,triggerHandlers:()=>u});var r=n(676003),o=n(676965),s=n(536888);const i={},a={};function c(e,t){i[e]=i[e]||[],i[e].push(t)}function d(e,t){if(!a[e]){a[e]=!0;try{t()}catch(t){r.DEBUG_BUILD&&o.logger.error(`Error while instrumenting ${e}`,t)}}}function u(e,t){const n=e&&i[e];if(n)for(const i of n)try{i(t)}catch(t){r.DEBUG_BUILD&&o.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,s.getFunctionName)(i)}\nError:`,t)}}},19325:(e,t,n)=>{n.d(t,{isDOMError:()=>a,isDOMException:()=>c,isElement:()=>g,isError:()=>o,isErrorEvent:()=>i,isEvent:()=>h,isInstanceOf:()=>S,isParameterizedString:()=>u,isPlainObject:()=>p,isPrimitive:()=>l,isRegExp:()=>m,isString:()=>d,isSyntheticEvent:()=>_,isThenable:()=>f,isVueViewModel:()=>E});const r=Object.prototype.toString;function o(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return S(e,Error)}}function s(e,t){return r.call(e)===`[object ${t}]`}function i(e){return s(e,"ErrorEvent")}function a(e){return s(e,"DOMError")}function c(e){return s(e,"DOMException")}function d(e){return s(e,"String")}function u(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function l(e){return null===e||u(e)||"object"!=typeof e&&"function"!=typeof e}function p(e){return s(e,"Object")}function h(e){return"undefined"!=typeof Event&&S(e,Event)}function g(e){return"undefined"!=typeof Element&&S(e,Element)}function m(e){return s(e,"RegExp")}function f(e){return Boolean(e?.then&&"function"==typeof e.then)}function _(e){return p(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function S(e,t){try{return e instanceof t}catch(e){return!1}}function E(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},676965:(e,t,n)=>{n.d(t,{CONSOLE_LEVELS:()=>i,consoleSandbox:()=>c,logger:()=>d,originalConsoleMethods:()=>a});var r=n(334837),o=n(676003),s=n(138398);const i=["debug","info","warn","error","log","assert","trace"],a={};function c(e){if(!("console"in s.GLOBAL_OBJ))return e();const t=s.GLOBAL_OBJ.console,n={},r=Object.keys(a);r.forEach((e=>{const r=a[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const d=(0,r.getGlobalSingleton)("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return o.DEBUG_BUILD?i.forEach((n=>{t[n]=(...t)=>{e&&c((()=>{s.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)}))}})):i.forEach((e=>{t[e]=()=>{}})),t}))},929385:(e,t,n)=>{n.d(t,{addContextToFrame:()=>l,addExceptionMechanism:()=>u,addExceptionTypeValue:()=>d,checkOrSetAlreadyCaught:()=>p,getEventDescription:()=>c,uuid4:()=>i});var r=n(767422),o=n(2556),s=n(138398);function i(e=function(){const e=s.GLOBAL_OBJ;return e.crypto||e.msCrypto}()){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&t())>>e/4).toString(16)))}function a(e){return e.exception?.values?.[0]}function c(e){const{message:t,event_id:n}=e;if(t)return t;const r=a(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function d(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function u(e,t){const n=a(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r?.data,...t.data};n.mechanism.data=e}}function l(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map((e=>(0,o.snipLine)(e,0)));const i=Math.min(r-1,s);t.context_line=(0,o.snipLine)(e[i],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map((e=>(0,o.snipLine)(e,0)))}function p(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{(0,r.addNonEnumerableProperty)(e,"__sentry_captured__",!0)}catch(e){}return!1}},50798:(e,t,n)=>{n.d(t,{normalize:()=>i,normalizeToSize:()=>a});var r=n(19325),o=n(767422),s=n(536888);function i(e,t=100,n=1/0){try{return c("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function a(e,t=3,n=102400){const r=i(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?a(e,t-1,n):r;var o}function c(e,t,n=1/0,i=1/0,a=function(){const e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}()){const[d,u]=a;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const l=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.isVueViewModel)(t))return"[VueViewModel]";if((0,r.isSyntheticEvent)(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${(0,s.getFunctionName)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const p="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===p)return l.replace("object ","");if(d(t))return"[Circular ~]";const h=t;if(h&&"function"==typeof h.toJSON)try{return c("",h.toJSON(),p-1,i,a)}catch(e){}const g=Array.isArray(t)?[]:{};let m=0;const f=(0,o.convertToPlainObject)(t);for(const e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(m>=i){g[e]="[MaxProperties ~]";break}const t=f[e];g[e]=c(e,t,p-1,i,a),m++}return u(t),g}},767422:(e,t,n)=>{n.d(t,{addNonEnumerableProperty:()=>d,convertToPlainObject:()=>p,dropUndefinedKeys:()=>f,extractExceptionKeysForMessage:()=>m,fill:()=>c,getOriginalFunction:()=>l,markFunctionWrapped:()=>u});var r=n(874621),o=n(676003),s=n(19325),i=n(676965),a=n(2556);function c(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);"function"==typeof s&&u(s,r);try{e[t]=s}catch{o.DEBUG_BUILD&&i.logger.log(`Failed to replace method "${t}" in object`,e)}}function d(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){o.DEBUG_BUILD&&i.logger.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,d(e,"__sentry_original__",t)}catch(e){}}function l(e){return e.__sentry_original__}function p(e){if((0,s.isError)(e))return{message:e.message,name:e.name,stack:e.stack,...g(e)};if((0,s.isEvent)(e)){const t={type:e.type,target:h(e.target),currentTarget:h(e.currentTarget),...g(e)};return"undefined"!=typeof CustomEvent&&(0,s.isInstanceOf)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function h(e){try{return(0,s.isElement)(e)?(0,r.htmlTreeAsString)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function g(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function m(e,t=40){const n=Object.keys(p(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return(0,a.truncate)(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:(0,a.truncate)(r,t)}return""}function f(e){return _(e,new Map)}function _(e,t){if(function(e){if(!(0,s.isPlainObject)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch{return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.getOwnPropertyNames(e))void 0!==e[n]&&(r[n]=_(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(_(e,t))})),r}return e}},856030:(e,t,n)=>{n.d(t,{makePromiseBuffer:()=>s});var r=n(515703),o=n(826061);function s(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(s){if(!(void 0===e||t.length<e))return(0,o.rejectedSyncPromise)(new r.SentryError("Not adding Promise because buffer limit was reached."));const i=s();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new o.SyncPromise(((n,r)=>{let s=t.length;if(!s)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,o.resolvedSyncPromise)(e).then((()=>{--s||(clearTimeout(i),n(!0))}),r)}))}))}}}},844228:(e,t,n)=>{n.d(t,{generateSpanId:()=>s,generateTraceId:()=>o});var r=n(929385);function o(){return(0,r.uuid4)()}function s(){return(0,r.uuid4)().substring(16)}},562292:(e,t,n)=>{n.d(t,{isRateLimited:()=>o,updateRateLimits:()=>s});const r=6e4;function o(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function s(e,{statusCode:t,headers:n},o=Date.now()){const s={...e},i=n?.["x-sentry-rate-limits"],a=n?.["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n,,,r]=e.split(":",5),i=parseInt(t,10),a=1e3*(isNaN(i)?60:i);if(n)for(const e of n.split(";"))"metric_bucket"===e&&r&&!r.split(";").includes("custom")||(s[e]=o+a);else s.all=o+a}else a?s.all=o+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const o=Date.parse(`${e}`);return isNaN(o)?r:o-t}(a,o):429===t&&(s.all=o+6e4);return s}},825530:(e,t,n)=>{function r(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}n.d(t,{severityLevelFromString:()=>r})},536888:(e,t,n)=>{n.d(t,{UNKNOWN_FUNCTION:()=>o,createStackParser:()=>a,getFramesFromEvent:()=>p,getFunctionName:()=>l,stackParserFromStackParserOptions:()=>c});const r=50,o="?",s=/\(error: (.*)\)/,i=/captureMessage|captureException/;function a(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,a=0)=>{const c=[],u=e.split("\n");for(let e=n;e<u.length;e++){const n=u[e];if(n.length>1024)continue;const o=s.test(n)?n.replace(s,"$1"):n;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){c.push(t);break}}if(c.length>=r+a)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(d(t).function||"")&&t.pop(),t.reverse(),i.test(d(t).function||"")&&(t.pop(),i.test(d(t).function||"")&&t.pop()),t.slice(0,r).map((e=>({...e,filename:e.filename||d(t).filename,function:e.function||o})))}(c.slice(a))}}function c(e){return Array.isArray(e)?a(...e):e}function d(e){return e[e.length-1]||{}}const u="<anonymous>";function l(e){try{return e&&"function"==typeof e&&e.name||u}catch(e){return u}}function p(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach((e=>{e.stacktrace.frames&&n.push(...e.stacktrace.frames)})),n}catch(e){return}}}},2556:(e,t,n)=>{n.d(t,{safeJoin:()=>i,snipLine:()=>s,stringMatchesSomePattern:()=>a,truncate:()=>o});var r=n(19325);function o(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function s(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,r);return s>r-5&&(s=r),s===r&&(o=Math.max(s-140,0)),n=n.slice(o,s),o>0&&(n=`'{snip} ${n}`),s<r&&(n+=" {snip}"),n}function i(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const o=e[t];try{(0,r.isVueViewModel)(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.isString)(e)&&((0,r.isRegExp)(t)?t.test(e):!!(0,r.isString)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},647501:(e,t,n)=>{n.d(t,{isNativeFunction:()=>c,supportsFetch:()=>a,supportsHistory:()=>i,supportsNativeFetch:()=>d});var r=n(676003),o=n(676965);const s=n(138398).GLOBAL_OBJ;function i(){return"history"in s}function a(){if(!("fetch"in s))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function c(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function d(){if("string"==typeof EdgeRuntime)return!0;if(!a())return!1;if(c(s.fetch))return!0;let e=!1;const t=s.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=c(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){r.DEBUG_BUILD&&o.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}},826061:(e,t,n)=>{n.d(t,{SyncPromise:()=>a,rejectedSyncPromise:()=>i,resolvedSyncPromise:()=>s});var r,o=n(19325);function s(e){return new a((t=>{t(e)}))}function i(e){return new a(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(r||(r={}));class a{then(e,t){return new a(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new a(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}_executeHandlers(){if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}_runExecutor(e){const t=(e,t)=>{this._state===r.PENDING&&((0,o.isThenable)(t)?t.then(n,s):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(r.RESOLVED,e)},s=e=>{t(r.REJECTED,e)};try{e(n,s)}catch(e){s(e)}}constructor(e){this._state=r.PENDING,this._handlers=[],this._runExecutor(e)}}},254244:(e,t,n)=>{n.d(t,{dateTimestampInSeconds:()=>s,timestampInSeconds:()=>i});var r=n(138398);const o=1e3;function s(){return Date.now()/o}const i=function(){const{performance:e}=r.GLOBAL_OBJ;if(!e?.now)return s;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/o}()},476707:(e,t,n)=>{n.d(t,{generateSentryTraceHeader:()=>o}),n(839092),n(667899);var r=n(844228);function o(e=(0,r.generateTraceId)(),t=(0,r.generateSpanId)(),n){let o="";return void 0!==n&&(o=n?"-1":"-0"),`${e}-${t}${o}`}new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$")},627372:(e,t,n)=>{function r(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function o(e){return e.split(/[?#]/,1)[0]}n.d(t,{parseUrl:()=>r,stripUrlQueryAndFragment:()=>o})},279365:(e,t,n)=>{n.d(t,{SDK_VERSION:()=>r});const r="9.5.0"},138398:(e,t,n)=>{n.d(t,{GLOBAL_OBJ:()=>r});const r=globalThis},146456:(e,t,n)=>{n.d(t,{applyScopeDataToEvent:()=>a,mergeScopeData:()=>c});var r=n(1649),o=n(767422),s=n(53915),i=n(197894);function a(e,t){const{fingerprint:n,span:s,breadcrumbs:a,sdkProcessingMetadata:c}=t;!function(e,t){const{extra:n,tags:r,user:s,contexts:i,level:a,transactionName:c}=t,d=(0,o.dropUndefinedKeys)(n);Object.keys(d).length&&(e.extra={...d,...e.extra});const u=(0,o.dropUndefinedKeys)(r);Object.keys(u).length&&(e.tags={...u,...e.tags});const l=(0,o.dropUndefinedKeys)(s);Object.keys(l).length&&(e.user={...l,...e.user});const p=(0,o.dropUndefinedKeys)(i);Object.keys(p).length&&(e.contexts={...p,...e.contexts}),a&&(e.level=a),c&&"transaction"!==e.type&&(e.transaction=c)}(e,t),s&&function(e,t){e.contexts={trace:(0,i.spanToTraceContext)(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,r.getDynamicSamplingContextFromSpan)(t),...e.sdkProcessingMetadata};const n=(0,i.getRootSpan)(t),o=(0,i.spanToJSON)(n).description;o&&!e.transaction&&"transaction"===e.type&&(e.transaction=o)}(e,s),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,a),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,c)}function c(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:p,attachments:h,propagationContext:g,transactionName:m,span:f}=t;d(e,"extra",n),d(e,"tags",r),d(e,"user",o),d(e,"contexts",i),e.sdkProcessingMetadata=(0,s.merge)(e.sdkProcessingMetadata,c,2),a&&(e.level=a),m&&(e.transactionName=m),f&&(e.span=f),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),p.length&&(e.eventProcessors=[...e.eventProcessors,...p]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...g}}function d(e,t,n){e[t]=(0,s.merge)(e[t],n,1)}},465718:(e,t,n)=>{function r(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch(e){}return t}n.d(t,{getPossibleEventMessages:()=>r})},476677:(e,t,n)=>{function r(e){return!1}n.d(t,{hasSpansEnabled:()=>r}),n(944705)},846828:(e,t,n)=>{function r(e){void 0===e.user?.ip_address&&(e.user={...e.user,ip_address:"{{auto}}"})}function o(e){"aggregates"in e?void 0===e.attrs?.ip_address&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}n.d(t,{addAutoIpAddressToSession:()=>o,addAutoIpAddressToUser:()=>r})},53915:(e,t,n)=>{function r(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const o={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=r(o[e],t[e],n-1));return o}n.d(t,{merge:()=>r})},839092:(e,t,n)=>{function r(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;return"number"!=typeof t||isNaN(t)||t<0||t>1?void 0:t}n.d(t,{parseSampleRate:()=>r})},888514:(e,t,n)=>{n.d(t,{parseEventHintOrCaptureContext:()=>g,prepareEvent:()=>h});var r=n(605944),o=n(944705),s=n(641392),i=n(411817),a=n(742545),c=n(929385),d=n(50798),u=n(2556),l=n(254244),p=n(146456);function h(e,t,n,h,g,m){const{normalizeDepth:f=3,normalizeMaxBreadth:_=1e3}=e,S={...t,event_id:t.event_id||n.event_id||(0,c.uuid4)(),timestamp:t.timestamp||(0,l.dateTimestampInSeconds)()},E=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:o,dist:s,maxValueLength:i=250}=t;e.environment=e.environment||n||r.DEFAULT_ENVIRONMENT,!e.release&&o&&(e.release=o),!e.dist&&s&&(e.dist=s),e.message&&(e.message=(0,u.truncate)(e.message,i));const a=e.exception?.values?.[0];a?.value&&(a.value=(0,u.truncate)(a.value,i));const c=e.request;c?.url&&(c.url=(0,u.truncate)(c.url,i))}(S,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(S,E),g&&g.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){const n=(0,a.getFilenameToDebugIdMap)(t);e.exception?.values?.forEach((e=>{e.stacktrace?.frames?.forEach((e=>{e.filename&&(e.debug_id=n[e.filename])}))}))}(S,e.stackParser);const v=function(e,t){if(!t)return e;const n=e?e.clone():new i.Scope;return n.update(t),n}(h,n.captureContext);n.mechanism&&(0,c.addExceptionMechanism)(S,n.mechanism);const b=g?g.getEventProcessors():[],y=(0,o.getGlobalScope)().getScopeData();if(m){const e=m.getScopeData();(0,p.mergeScopeData)(y,e)}if(v){const e=v.getScopeData();(0,p.mergeScopeData)(y,e)}const w=[...n.attachments||[],...y.attachments];w.length&&(n.attachments=w),(0,p.applyScopeDataToEvent)(S,y);const I=[...b,...y.eventProcessors];return(0,s.notifyEventProcessors)(I,S,n).then((e=>(e&&function(e){const t={};if(e.exception?.values?.forEach((e=>{e.stacktrace?.frames?.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))})),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})}))}(e),"number"==typeof f&&f>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,d.normalize)(e.data,t,n)}})))},...e.user&&{user:(0,d.normalize)(e.user,t,n)},...e.contexts&&{contexts:(0,d.normalize)(e.contexts,t,n)},...e.extra&&{extra:(0,d.normalize)(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,d.normalize)(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:(0,d.normalize)(e.data,t,n)}})))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=(0,d.normalize)(e.contexts.flags,3,n)),r}(e,f,_):e)))}function g(e){if(e)return function(e){return e instanceof i.Scope||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>m.includes(e)))}(e)?{captureContext:e}:e}const m=["user","level","extra","contexts","tags","fingerprint","propagationContext"]},990946:(e,t,n)=>{n.d(t,{applySdkMetadata:()=>o});var r=n(279365);function o(e,t,n=[t],o="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:r.SDK_VERSION}))),version:r.SDK_VERSION}),e._metadata=s}},239700:(e,t,n)=>{n.d(t,{_getSpanForScope:()=>i,_setSpanForScope:()=>s});var r=n(767422);const o="_sentrySpan";function s(e,t){t?(0,r.addNonEnumerableProperty)(e,o,t):delete e[o]}function i(e){return e[o]}},197894:(e,t,n)=>{n.d(t,{getRootSpan:()=>v,showSpanDropWarning:()=>b,spanIsSampled:()=>_,spanToJSON:()=>f,spanToTraceContext:()=>p}),n(923737),n(334837),n(944705);var r=n(490812),o=n(538344),s=n(425001),i=n(676965),a=n(767422),c=n(844228),d=n(254244);n(476707),n(239700);const u=1;let l=!1;function p(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:f(e).parent_span_id,i=(0,s.getCapturedScopesOnSpan)(e).scope,d=r?i?.getPropagationContext().propagationSpanId||(0,c.generateSpanId)():t;return(0,a.dropUndefinedKeys)({parent_span_id:o,span_id:d,trace_id:n})}function h(e){return e&&e.length>0?e.map((({context:{spanId:e,traceId:t,traceFlags:n,...r},attributes:o})=>({span_id:e,trace_id:t,sampled:n===u,attributes:o,...r}))):void 0}function g(e){return"number"==typeof e?m(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?m(e.getTime()):(0,d.timestampInSeconds)()}function m(e){return e>9999999999?e/1e3:e}function f(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:o,startTime:s,name:i,endTime:c,parentSpanId:d,status:u,links:l}=e;return(0,a.dropUndefinedKeys)({span_id:t,trace_id:n,data:o,description:i,parent_span_id:d,start_timestamp:g(s),timestamp:g(c)||void 0,status:S(u),op:o[r.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:o[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],links:h(l)})}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function _(e){const{traceFlags:t}=e.spanContext();return t===u}function S(e){if(e&&e.code!==o.SPAN_STATUS_UNSET)return e.code===o.SPAN_STATUS_OK?"ok":e.message||"unknown_error"}const E="_sentryRootSpan";function v(e){return e[E]||e}function b(){l||((0,i.consoleSandbox)((()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")})),l=!0)}},167999:(e,t,n)=>{n.d(t,{convertSpanJsonToTransactionEvent:()=>i,convertTransactionEventToSpanJson:()=>s});var r=n(490812),o=n(767422);function s(e){const{trace_id:t,parent_span_id:n,span_id:s,status:i,origin:a,data:c,op:d}=e.contexts?.trace??{};return(0,o.dropUndefinedKeys)({data:c??{},description:e.transaction,op:d,parent_span_id:n,span_id:s??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:a,profile_id:c?.[r.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:c?.[r.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:e.measurements,is_segment:!0})}function i(e){const t={type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[r.SEMANTIC_ATTRIBUTE_PROFILE_ID]:e.profile_id},...e.exclusive_time&&{[r.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:e.exclusive_time}}}},measurements:e.measurements};return(0,o.dropUndefinedKeys)(t)}},399373:(e,t,n)=>{n.d(t,{getTracerModules:()=>se,initTracerError:()=>k,initTracerErrorUploader:()=>H,initTracerLog:()=>l,initTracerPerformance:()=>ee,initTracerPerformanceUploader:()=>ne,initTracerSdk:()=>ie,initTracerSessionUploader:()=>oe});class r{constructor(){this.log=[],this.logBytes=[],this.logIndex=0,this.logTotalBytes=0,this.logMaxBytes=64e3}destroy(){this.clear()}add(e){const t=`#${this.logIndex} ${Date.now()} | ${e}\n`,n=new Blob([t]).size;if(this.logTotalBytes+=n,this.log.push(t),this.logBytes.push(n),this.logIndex++,this.logTotalBytes>this.logMaxBytes){const e=this.logTotalBytes-this.logMaxBytes;let t=0;const n=this.logBytes.length-1;for(let r=0;r<n;r++)if(t+=this.logBytes[r],t>=e||r==n-1){this.logBytes=this.logBytes.slice(r+1),this.log=this.log.slice(r+1),this.logTotalBytes-=t;break}}}getData(){return this.log}clear(){this.log=[],this.logBytes=[],this.logTotalBytes=0}}function o(){if("undefined"==typeof window)return{data:{},modules:{},version:"2.0.22"};const e="TracerSDK";return window[e]||(window[e]={data:{},modules:{},version:"2.0.22"}),window[e]}function s(e){const t=o().data;return t[e]||(t[e]={}),t[e]}function i(e,t){return s(e)[t]}class a{constructor(e){this.dataKey=e}getSdkData(){return i(this.dataKey,0)}log(e){const t=this.getSdkData();t&&t.add(e)}clearLog(){const e=this.getSdkData();e&&e.clear()}}function c(e,t,n){const r=s(e);return r[t]||(r[t]=n()),r[t]}function d(e){const t=o().modules;return t[e]||(t[e]={}),t[e]}function u(e,t,n){const r=d(e);return r[t]||(r[t]=n(e)),r[t]}function l(){const e="main";return c(e,0,(function(){return new r})),u(e,"log",(function(){return new a(e)}))}class p{constructor(e,t){this.crashesCount=0,this.errors=[],this.keys={},this.dataKey=e,this.filterError=t.filterError}withCrashes(){return Boolean(this.crashesCount)}destroy(){this.errors=[],this.keys={},this.userId=void 0,this.module=void 0}add(e){if("CRASH"===e.type){if(this.filterError&&!1===this.filterError(e.error))return;this.crashesCount++,this.errors.push(e);const t=i(this.dataKey,7),n=i(this.dataKey,3);t&&t.setCrashed(),n&&n.forceUpload()}else this.errors.push(e)}getData(){return this.errors}dequeue(e=1){return this.errors.splice(0,e)}setKey(e,t){this.keys[e]=t}setKeys(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.keys[t]=e[t])}removeKey(e){delete this.keys[e]}removeKeys(e){for(let t=0,n=e.length;t<n;t++)this.removeKey(e[t])}getKeys(){return this.keys}}function h(e,t,n,r,o){const s=e+": "+t+"\n";if(0===(n=n||"").indexOf(s)&&(n=n.slice(s.length)),r||o){const e=n.split("\n"),t=r||0,s=o?e.length-o:e.length;n=e.slice(t,s).join("\n")}return n}const g="tracerCurrentStack";let m;function f(e,t=[],n){let r="("+e.name+")";e.sameScopeCount>1&&(r+=" x"+e.sameScopeCount);const o=!e.parent;if(t.push(r),n){const n=(m||(m=new Error(g)),m);t.push(h(n.name,n.message,e.stack,3,o?0:1))}else t.push(e.stack);return e.parent&&f(e.parent,t,n),t.join("\n")}function _(e){if(e.tracerScope){const t=function(){const e=i("main",4);return!!e&&e.disableStackCleanup}();return f(e.tracerScope,[h(e.name,e.message,e.stack,0,t?0:1)],!t)}return h(e.name,e.message,e.stack)}const S={};class E{constructor(){this.data={}}getItem(e){return this.data[e]||null}removeItem(e){this.data[e]=void 0}setItem(e,t){this.data[e]=t}}let v;function b(){return v||(v=function(){let e;try{if("undefined"==typeof window)return new E;e=window.localStorage;const t="__ls_tracer_test";return e.setItem(t,t),e.getItem(t)!==t?new E:(e.removeItem(t),e)}catch(e){return new E}}()),v}function y(e){return"tracer-mute-"+e}function w(e){const t=b().getItem(y(e));return t?parseInt(t):null}function I(e){return!("all"===e||!A("all"))||A(e)}function A(e){let t=S[e];return void 0===t&&(S[e]=t=w(e)),!!t&&(Date.now()<t||(function(e){S[e]=null,b().removeItem(y(e))}(e),!1))}function O(e,t){if(I("crashUpload"))return;const n=i(e,1),r=i(e,0);if(!n)return;const o=Object.assign(Object.assign({},t),{timestamp:Date.now(),log:r?r.getData().join(""):void 0,errorStack:_(t.error)});o.keys=Object.assign(Object.assign({},n.getKeys()),o.keys),o.userId||(o.userId=n.userId),o.module||(o.module=n.module),n.add(o)}class T{constructor(e){this.withListeners=!1,this.dataKey=e,this.onWindowError=this.onWindowError.bind(this),this.onWindowUnhandledRejection=this.onWindowUnhandledRejection.bind(this),this.addEventListeners()}destroy(){this.removeListeners()}addEventListeners(){"undefined"==typeof window||this.withListeners||(window.addEventListener("error",this.onWindowError),window.addEventListener("unhandledrejection",this.onWindowUnhandledRejection),this.withListeners=!0)}removeListeners(){"undefined"!=typeof window&&this.withListeners&&(window.removeEventListener("error",this.onWindowError),window.removeEventListener("unhandledrejection",this.onWindowUnhandledRejection))}onWindowError(e){this.handleCrash(e.error,e.type)}onWindowUnhandledRejection(e){this.handleCrash(e.reason,e.type)}handleCrash(e,t){e instanceof Error&&O(this.dataKey,{error:e,type:"CRASH",errorEventType:t})}}class R{constructor(e){this.dataKey=e}getErrorsData(){return i(this.dataKey,1)}error(e,t){e.tracerScope||(e.tracerScope=o().currentAsyncScope),O(this.dataKey,Object.assign(Object.assign({type:"NON_FATAL"},t),{error:e}))}setErrorKey(e,t){const n=this.getErrorsData();n&&n.setKey(e,t)}setErrorKeys(e){const t=this.getErrorsData();t&&t.setKeys(e)}removeErrorKey(e){const t=this.getErrorsData();t&&t.removeKey(e)}removeErrorKeys(e){const t=this.getErrorsData();t&&t.removeKeys(e)}setUserId(e){const t=this.getErrorsData();t&&(t.userId=e)}removeUserId(){const e=this.getErrorsData();e&&(e.userId=void 0)}setModule(e){const t=this.getErrorsData();t&&(t.module=e)}removeModule(){const e=this.getErrorsData();e&&(e.module=void 0)}}function k(e={}){const t="main";return Error.stackTraceLimit=e.stackTraceLimit||50,c(t,1,(function(){return new p(t,e)})),c(t,2,(function(){return new T(t)})),u(t,"error",(function(){return new R(t)}))}function D(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}const N="tracer-device-id";function P(){const e=b();let t=e.getItem(N);return t||(t=D(),e.setItem(N,t)),t}function C(e){return e.getFullYear()+"-"+U(e.getMonth()+1)+"-"+U(e.getDate())+"T"+U(e.getHours())+":"+U(e.getMinutes())+":"+U(e.getSeconds())+function(e){if(0===e)return"Z";const t=e>0?"-":"+";return e=Math.abs(e),t+U(Math.floor(e/60))+":"+U(e%60)}(e.getTimezoneOffset())}function U(e){return e<10?"0"+e:e}function x(e,t,n){const r=new Blob([e]);if("undefined"!=typeof window&&Boolean(window.CompressionStream))try{M(r.stream().pipeThrough(new CompressionStream("gzip")).getReader()).then(t,(function(){n(r)}))}catch(e){n(r)}else n(r)}function M(e,t=[]){return e.read().then((function(n){return n.value&&t.push(n.value),n.done?new Blob(t):M(e,t)}))}function B(){const e=o();return e.sessionUuid||(e.sessionUuid=D()),e.sessionUuid}let L;function W(){if(L)return L;const e={function:!0,object:!0};let t=e[typeof window]&&window||this;const n=e[typeof exports]&&exports,r=e[typeof module]&&module&&!module.nodeType&&module,o=n&&r&&"object"==typeof global&&global;!o||o.global!==o&&o.window!==o&&o.self!==o||(t=o);const s=Math.pow(2,53)-1,i=/\bOpera/,a=Object.prototype,c=a.hasOwnProperty,d=a.toString;function u(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function l(e){return e=f(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:u(e)}function p(e,t){for(const n in e)c.call(e,n)&&t(e[n],n,e)}function h(e){return null==e?u(e):d.call(e).slice(8,-1)}function g(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function m(e,t){let n=null;return function(e,t){let n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=s)for(;++n<r;)t(e[n],n);else p(e,t)}(e,(function(r,o){n=t(n,r,o,e)})),n}function f(e){return String(e).replace(/^ +| +$/g,"")}return L=function e(n){let r=t;const o=n&&"object"==typeof n&&"String"!=h(n);o&&(r=n,n=null);const s=r.navigator||{},a=s.userAgent||"";n||(n=a);const c=o?!!s.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(d.toString()),u="Object",_=o?u:"ScriptBridgingProxyObject",S=o?u:"Environment",E=o&&r.java?"JavaPackage":h(r.java),v=o?u:"RuntimeObject",b=/\bJava/.test(E)&&r.java,y=b&&h(r.environment)==S,w=b?"a":"α",I=b?"b":"β",A=r.document||{};let O=r.operamini||r.opera;var T=i.test(T=o&&O?O["[[Class]]"]:h(O))?T:O=null;let R,k=n,D=[],N=null;const P=n==a;let C,U=P&&O&&"function"==typeof O.version&&O.version(),x=m([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,t){return e||RegExp("\\b"+(t.pattern||g(t))+"\\b","i").exec(n)&&(t.label||t)})),M=m(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,t){return e||RegExp("\\b"+(t.pattern||g(t))+"\\b","i").exec(n)&&(t.label||t)})),B=G([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),L=m({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},(function(e,t,r){return e||(t[B]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+g(r)+"(?:\\b|\\w*\\d)","i").exec(n))&&r})),W=m(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,t){const r=t.pattern||g(t);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(e=function(e,t,n){let r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),l(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,t.label||t)),e}));function G(e){return m(e,(function(e,t){const r=t.pattern||g(t);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((e=String(t.label&&!RegExp(r,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=l(e[0].replace(RegExp(r,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function j(e){return m(e,(function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null}))}if(x&&(x=[x]),/\bAndroid\b/.test(W)&&!B&&(R=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(n))&&(B=f(R[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),L&&!B?B=G([L]):L&&B&&(B=B.replace(RegExp("^("+g(L)+")[-_.\\s]","i"),L+" ").replace(RegExp("^("+g(L)+")[-_.]?(\\w)","i"),L+" $2")),(R=/\bGoogle TV\b/.exec(B))&&(B=R[0]),/\bSimulator\b/i.test(n)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==M&&/\bOPiOS\b/.test(n)&&D.push("running in Turbo/Uncompressed mode"),"IE"==M&&/\blike iPhone OS\b/.test(n)?(R=e(n.replace(/like iPhone OS/,"")),L=R.manufacturer,B=R.product):/^iP/.test(B)?(M||(M="Safari"),W="iOS"+((R=/ OS ([\d_]+)/i.exec(n))?" "+R[1].replace(/_/g,"."):"")):"Konqueror"==M&&/^Linux\b/i.test(W)?W="Kubuntu":L&&"Google"!=L&&(/Chrome/.test(M)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(B))||/\bAndroid\b/.test(W)&&/^Chrome/.test(M)&&/\bVersion\//i.test(n)?(M="Android Browser",W=/\bAndroid\b/.test(W)?W:"Android"):"Silk"==M?(/\bMobi/i.test(n)||(W="Android",D.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&D.unshift("accelerated")):"UC Browser"==M&&/\bUCWEB\b/.test(n)?D.push("speed mode"):"PaleMoon"==M&&(R=/\bFirefox\/([\d.]+)\b/.exec(n))?D.push("identifying as Firefox "+R[1]):"Firefox"==M&&(R=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(W||(W="Firefox OS"),B||(B=R[1])):!M||(R=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(M))?(M&&!B&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(R+"/")+8))&&(M=null),(R=B||L||W)&&(B||L||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(W))&&(M=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(W)?W:R)+" Browser")):"Electron"==M&&(R=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&D.push("Chromium "+R),U||(U=j(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",g(M),"(?:Firefox|Minefield|NetFront)"])),(R=("iCab"==x&&parseFloat(U)>3?"WebKit":/\bOpera\b/.test(M)&&(/\bOPR\b/.test(n)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(x)&&"WebKit"||!x&&/\bMSIE\b/i.test(n)&&("Mac OS"==W?"Tasman":"Trident")||"WebKit"==x&&/\bPlayStation\b(?! Vita\b)/i.test(M)&&"NetFront")&&(x=[R]),"IE"==M&&(R=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(M+=" Mobile",W="Windows Phone "+(/\+$/.test(R)?R:R+".x"),D.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(M="IE Mobile",W="Windows Phone 8.x",D.unshift("desktop mode"),U||(U=(/\brv:([\d.]+)/.exec(n)||0)[1])):"IE"!=M&&"Trident"==x&&(R=/\brv:([\d.]+)/.exec(n))&&(M&&D.push("identifying as "+M+(U?" "+U:"")),M="IE",U=R[1]),P){if(function(e,t){const n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(r,"global"))if(b&&(R=b.lang.System,k=R.getProperty("os.arch"),W=W||R.getProperty("os.name")+" "+R.getProperty("os.version")),y){try{U=r.require("ringo/engine").version.join("."),M="RingoJS"}catch(e){(R=r.system)&&R.global.system==r.system&&(M="Narwhal",W||(W=R[0].os||null))}M||(M="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(R=r.process)&&("object"==typeof R.versions&&("string"==typeof R.versions.electron?(D.push("Node "+R.versions.node),M="Electron",U=R.versions.electron):"string"==typeof R.versions.nw&&(D.push("Chromium "+U,"Node "+R.versions.node),M="NW.js",U=R.versions.nw)),M||(M="Node.js",k=R.arch,W=R.platform,U=/[\d.]+/.exec(R.version),U=U?U[0]:null));else h(R=r.runtime)==_?(M="Adobe AIR",W=R.flash.system.Capabilities.os):h(R=r.phantom)==v?(M="PhantomJS",U=(R=R.version||null)&&R.major+"."+R.minor+"."+R.patch):"number"==typeof A.documentMode&&(R=/\bTrident\/(\d+)/i.exec(n))?(U=[U,A.documentMode],(R=+R[1]+4)!=U[1]&&(D.push("IE "+U[1]+" mode"),x&&(x[1]=""),U[1]=R),U="IE"==M?String(U[1].toFixed(1)):U[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(M)&&(D.push("masking as "+M+" "+U),M="IE",U="11.0",x=["Trident"],W="Windows");W=W&&l(W)}if(U&&(R=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(U)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(P&&s.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(N=/b/i.test(R)?"beta":"alpha",U=U.replace(RegExp(R+"\\+?$"),"")+("beta"==N?I:w)+(/\d+\+?/.exec(R)||"")),"Fennec"==M||"Firefox"==M&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(W))M="Firefox Mobile";else if("Maxthon"==M&&U)U=U.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(W=null),"Xbox 360"==B&&/\bIEMobile\b/.test(n)&&D.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(M)&&(!M||B||/Browser|Mobi/.test(M))||"Windows CE"!=W&&!/Mobi/i.test(n))if("IE"==M&&P)try{null===r.external&&D.unshift("platform preview")}catch(e){D.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(n))&&(R=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||U)?(R=[R,/BB10/.test(n)],W=(R[1]?(B=null,L="BlackBerry"):"Device Software")+" "+R[0],U=null):this!=p&&"Wii"!=B&&(P&&O||/Opera/.test(M)&&/\b(?:MSIE|Firefox)\b/i.test(n)||"Firefox"==M&&/\bOS X (?:\d+\.){2,}/.test(W)||"IE"==M&&(W&&!/^Win/.test(W)&&U>5.5||/\bWindows XP\b/.test(W)&&U>8||8==U&&!/\bTrident\b/.test(n)))&&!i.test(R=e.call(p,n.replace(i,"")+";"))&&R.name&&(R="ing as "+R.name+((R=R.version)?" "+R:""),i.test(M)?(/\bIE\b/.test(R)&&"Mac OS"==W&&(W=null),R="identify"+R):(R="mask"+R,M=T?l(T.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(R)&&(W=null),P||(U=null)),x=["Presto"],D.push(R));else M+=" Mobile";(R=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(R=[parseFloat(R.replace(/\.(\d)$/,".0$1")),R],"Safari"==M&&"+"==R[1].slice(-1)?(M="WebKit Nightly",N="alpha",U=R[1].slice(0,-1)):U!=R[1]&&U!=(R[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1])||(U=null),R[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(n)||0)[1],537.36==R[0]&&537.36==R[2]&&parseFloat(R[1])>=28&&"WebKit"==x&&(x=["Blink"]),P&&(c||R[1])?(x&&(x[1]="like Chrome"),R=R[1]||(R=R[0],R<530?1:R<532?2:R<532.05?3:R<533?4:R<534.03?5:R<534.07?6:R<534.1?7:R<534.13?8:R<534.16?9:R<534.24?10:R<534.3?11:R<535.01?12:R<535.02?"13+":R<535.07?15:R<535.11?16:R<535.19?17:R<536.05?18:R<536.1?19:R<537.01?20:R<537.11?"21+":R<537.13?23:R<537.18?24:R<537.24?25:R<537.36?26:"Blink"!=x?"27":"28")):(x&&(x[1]="like Safari"),R=R[0],R=R<400?1:R<500?2:R<526?3:R<533?4:R<534?"4+":R<535?5:R<537?6:R<538?7:R<601?8:R<602?9:R<604?10:R<606?11:R<608?12:"12"),x&&(x[1]+=" "+(R+="number"==typeof R?".x":/[.+]/.test(R)?"":"+")),"Safari"==M&&(!U||parseInt(U)>45)?U=R:"Chrome"==M&&/\bHeadlessChrome/i.test(n)&&D.unshift("headless")),"Opera"==M&&(R=/\bzbov|zvav$/.exec(W))?(M+=" ",D.unshift("desktop mode"),"zvav"==R?(M+="Mini",U=null):M+="Mobile",W=W.replace(RegExp(" *"+R+"$"),"")):"Safari"==M&&/\bChrome\b/.exec(x&&x[1])?(D.unshift("desktop mode"),M="Chrome Mobile",U=null,/\bOS X\b/.test(W)?(L="Apple",W="iOS 4.3+"):W=null):/\bSRWare Iron\b/.test(M)&&!U&&(U=j("Chrome")),U&&0==U.indexOf(R=/[\d.]+$/.exec(W))&&n.indexOf("/"+R+"-")>-1&&(W=f(W.replace(R,""))),W&&-1!=W.indexOf(M)&&!RegExp(M+" OS").test(W)&&(W=W.replace(RegExp(" *"+g(M)+" *"),"")),x&&!/\b(?:Avant|Nook)\b/.test(M)&&(/Browser|Lunascape|Maxthon/.test(M)||"Safari"!=M&&/^iOS/.test(W)&&/\bSafari\b/.test(x[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(M)&&x[1])&&(R=x[x.length-1])&&D.push(R),D.length&&(D=["("+D.join("; ")+")"]),L&&B&&B.indexOf(L)<0&&D.push("on "+L),B&&D.push((/^on /.test(D[D.length-1])?"":"on ")+B),W&&(R=/ ([\d.+]+)$/.exec(W),C=R&&"/"==W.charAt(W.length-R[0].length-1),W={architecture:32,family:R&&!C?W.replace(R[0],""):W,version:R?R[1]:null,toString:function(){const e=this.version;return this.family+(e&&!C?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(R=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(k))&&!/\bi686\b/i.test(k)?(W&&(W.architecture=64,W.family=W.family.replace(RegExp(" *"+R),"")),M&&(/\bWOW64\b/i.test(n)||P&&/\w(?:86|32)$/.test(s.cpuClass||s.platform)&&!/\bWin64; x64\b/i.test(n))&&D.unshift("32-bit")):W&&/^OS X/.test(W.family)&&"Chrome"==M&&parseFloat(U)>=39&&(W.architecture=64),n||(n=null);const $={};return $.description=n,$.layout=x&&x[0],$.manufacturer=L,$.name=M,$.prerelease=N,$.product=B,$.ua=n,$.version=M&&U,$.os=W||{architecture:null,family:null,version:null,toString:function(){return"null"}},$.parse=e,$.toString=function(){return this.description||""},$.version&&D.unshift(U),$.name&&D.unshift(M),W&&M&&(W!=String(W).split(" ")[0]||W!=M.split(" ")[0]&&!B)&&D.push(B?"("+W+")":"on "+W),D.length&&($.description=D.join(" ")),$}(),L}function G(e,t){if(S[e])return;const n=y(e),r=w(e);if(r)S[e]=r;else{const r=S[e]=Date.now()+t;b().setItem(n,String(r))}}function j(e){let t;const n=function(e){return"https://"+(e.apiHost||"sdk-api.apptracer.ru")+e.apiUrl+function(e){const t=e.queryParams||{},n=[];e.sdkVersion&&(t.sdkVersion=e.sdkVersion);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]&&n.push(e+"="+t[e]);return n.length?"?"+n.join("&"):""}(e)}(e),r=function(e){if("form"===e.dataType){const t=new FormData;for(const n in e.data)if(Object.prototype.hasOwnProperty.call(e.data,n)){let r=e.data[n];"object"!=typeof r||r instanceof Blob||(r=JSON.stringify(r)),t.append(n,r)}return t}return"blob"===e.dataType?e.data:JSON.stringify(e.data)}(e),o=e.onRequestEnd,s={};let i=1e4,a=e.retryCount||1/0;const c="Content-Type";function d(){const e=new XMLHttpRequest;e.open("POST",n);for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&s[t]&&e.setRequestHeader(t,s[t]);return e.responseType="json",e.onload=l,e.onerror=l,e.onabort=l,e.ontimeout=l,e.send(r),e}function u(){i=Math.min(2*i,3e5),a--,t=d()}function l(n){if(t)if(("timeout"===n.type||"error"===n.type&&t.readyState===XMLHttpRequest.DONE&&0===t.status)&&a>0)setTimeout(u,i);else{"undefined"!=typeof window&&window.removeEventListener("beforeunload",p);try{const n=t.response;if(n.commands){const t=n.commands.globalShutdownMs;t&&G("all",t);const r=n.commands.featureShutdownMs;r&&e.onMute(r)}}catch(e){}o&&o()}}function p(){if(navigator.sendBeacon)if(t&&t.abort(),"string"==typeof r||r instanceof Blob){const e=s[c];navigator.sendBeacon(n,new Blob([r],e?{type:e}:void 0))}else navigator.sendBeacon(n,r);else t||(t=d())}"json"===e.dataType?s[c]="application/json;charset=utf-8":"blob"===e.dataType&&(s[c]="application/octet-stream"),e.beforeUnload?p():("undefined"!=typeof window&&window.addEventListener("beforeunload",p),t=d())}function $(e){"undefined"!=typeof window&&j(e)}class F{constructor(e){this.CRASH_BATCH_SIZE=20,this.UPLOAD_BATCH_TIMEOUT_MS=15e3,this.THROTTLE_INTERVAL_MS=1e4,this.beforeUnload=!1,this.stackTraceHashTime={},this.dataKey=e.dataKey,this.appToken=e.appToken,this.versionName=e.versionName,this.versionCode=e.versionCode,this.apiHost=e.apiHost,this.uploadBatch=this.uploadBatch.bind(this),this.onUploadBatchEnd=this.onUploadBatchEnd.bind(this),this.onBatchDataEncoded=this.onBatchDataEncoded.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.uploadBatch()}destroy(){clearTimeout(this.uploadBatchTimeout),"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.UPLOAD_BATCH_TIMEOUT_MS){clearTimeout(this.uploadBatchTimeout),this.beforeUnload||(this.uploadBatchTimeout=setTimeout(this.uploadBatch,e))}forceUpload(){clearTimeout(this.uploadBatchTimeout),this.uploadBatch()}uploadBatch(){const e=i(this.dataKey,1);if(!e||I("crashUpload"))return void this.setUploadTask();const t=this.getFilteredRawBatchData(e.dequeue(this.CRASH_BATCH_SIZE));t.length?this.encodeBatchDataItems(t,this.onBatchDataEncoded):this.setUploadTask()}onBatchDataEncoded(e){x(JSON.stringify(e),this.runUpload.bind(this,"GZIP"),this.runUpload.bind(this,"NONE"))}runUpload(e,t){$({beforeUnload:this.beforeUnload,sdkVersion:o().version,apiHost:this.apiHost,apiUrl:"/api/crash/uploadBatch",data:t,queryParams:{crashToken:this.appToken,compressType:e},dataType:"blob",onRequestEnd:this.onUploadBatchEnd,onMute:G.bind(null,"crashUpload")})}onUploadBatchEnd(){this.setUploadTask(0)}encodeBatchDataItems(e,t){const n=e.length;let r=0;for(let o=0;o<n;o++)this.encodeBatchDataItem(e[o],(function(){r++,r===n&&t(e)}))}encodeBatchDataItem(e,t){if(e.logsFile)return function(e,t){const n=new FileReader;n.onloadend=function(){const e=String(n.result);t(e.slice(e.indexOf("base64,")+7))},n.readAsDataURL(new Blob([e]))}(e.logsFile,(function(n){e.logsFile=n,t(e)}));t(e)}getFilteredRawBatchData(e){if(!e.length)return[];const t=[],n=this.getCommonUploadBeanInfo(),r=this.getCommonUploadBeanProperties();for(let o=0;o<e.length;o++){const s=e[o],i=s.error.name+": "+s.error.message+"\n"+s.errorStack;if(!this.throttleStacktrace(s.errorStack)){const e={type:s.type,uploadBean:this.getUploadBeanForError(s,n,r),stackTrace:i};s.log&&(e.logsFile=s.log),t.push(e)}}return t}throttleStacktrace(e){if(!e)return!0;const t=function(e,t=0){let n=3735928559^t,r=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),n=Math.imul(n^t,2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}(e),n=this.stackTraceHashTime,r=n[t],o=Date.now();return!!(r&&o-r<=this.THROTTLE_INTERVAL_MS)||(n[t]=o,!1)}getCommonUploadBeanProperties(){var e,t,n;let r=this.getWindowParams();{const o=W();r=Object.assign(Object.assign({},r),{userAgent:o.ua,browserName:o.name,browserVersion:o.version,osFamily:null===(e=o.os)||void 0===e?void 0:e.family,osVersion:null===(t=o.os)||void 0===t?void 0:t.version,osArchitecture:null===(n=o.os)||void 0===n?void 0:n.architecture})}return r}getCommonUploadBeanInfo(){var e;{const t="unknown",n=W();return{osVersion:(null===(e=n.os)||void 0===e?void 0:e.version)||t,vendor:n.name||t,device:n.version||t}}}getUploadBeanForError(e,t,n){const r=[],o=e.keys;if(o)for(const e in o)e&&Object.prototype.hasOwnProperty.call(o,e)&&r.push(`${e}=${o[e]}`);e.customCrashId&&(t.crashIdSourceField="customCrashId",n.customCrashId=e.customCrashId);const s=Object.assign({timestamp:e.timestamp,date:C(new Date(e.timestamp)),userId:e.userId?String(e.userId):void 0,issueKey:e.issueKey,errorEventType:e.errorEventType},n);return Object.assign({deviceId:P(),sessionUuid:B(),versionName:this.versionName,versionCode:this.versionCode,tags:r.length?r:void 0,module:e.module,properties:s},t)}getWindowParams(){if("undefined"!=typeof window){const e=window.screen,t={screenWidth:e.width,screenHeight:e.height,host:window.location.host};return e.orientation&&e.orientation.angle&&(t.screenOrientationAngle=e.orientation.angle),t}return{}}}function K(e){return e.versionName+"("+e.versionCode+")"}function V(e,t,n,r){n.versionName===r.versionName&&n.versionCode===r.versionCode||O(e,{error:new Error(`${t} was already inited with version: ${K(n)}. Attempt init: ${K(r)}.`),type:"NON_FATAL"})}function H(e){const t="main",n=c(t,3,(function(){return new F({dataKey:t,appToken:e.appToken,apiHost:e.apiHost,versionName:e.versionName,versionCode:e.versionCode})}));V(t,"TracerErrorUploader",n,e)}const X="undefined"!=typeof performance;function q(){return X?performance.now():Date.now()}function J(e){return Math.round(1e6*e)}function z(){let e;return e=X&&performance.now?performance.timeOrigin?performance.timeOrigin+performance.now():performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart+performance.now():Date.now()+performance.now():Date.now(),e}class Y{constructor(e){this.samples=[],this.timeLabel={},this.dataKey=e}destroy(){this.samples=[],this.timeLabel={}}getTimeLabelKey(e){return"string"==typeof e?e:e.join("-")}getTimeLabelName(e){return"string"==typeof e?e:e[0]}time(e,t){const n=this.getTimeLabelKey(e);this.timeLabel[n]?console.warn(`Timer '${this.getTimeLabelName(e)}' already exists`):this.timeLabel[n]={from:q(),attributes:Object.assign({},t)}}timeEnd(e,t){const n=this.getTimeLabelKey(e),r=this.timeLabel[n];r?(this.timeLabel[n]=void 0,this.add({name:this.getTimeLabelName(e),value:J(q()-r.from),unit:"ns",attributes:Object.assign(Object.assign({},r.attributes),t)})):console.warn(`Timer '${this.getTimeLabelName(e)}' does not exist`)}add(e){if(I("perfUpload"))return;if(e.value<0)throw new Error("Tracer performance do not support negative values");let t;const n=J(z());t="10*-n"===e.unit?{name:e.name,timeUnixNano:n,value:Math.round(e.value*Math.pow(10,e.precision)),unit:"10*-"+e.precision,attributes:e.attributes}:{name:e.name,timeUnixNano:n,value:e.value,unit:e.unit,attributes:e.attributes},this.samples.push(t)}getData(){return this.samples}clear(){this.samples=[]}dequeue(e=1){return this.samples.splice(0,e)}}function Z(e,t,n,r,o){const s=i(e,5);s&&s.add({name:t,value:J(q()-n),unit:"ns",attributes:Object.assign(Object.assign({},r),o)})}class Q{constructor(e){this.dataKey=e}getPerformanceData(){return i(this.dataKey,5)}addSample(e){const t=this.getPerformanceData();t&&t.add(e)}startTimer(e,t){return{endTimer:Z.bind(null,this.dataKey,e,q(),t)}}time(e,t){const n=this.getPerformanceData();n&&n.time(e,t)}timeEnd(e,t){const n=this.getPerformanceData();n&&n.timeEnd(e,t)}}function ee(){const e="main";return c(e,5,(function(){return new Y(e)})),u(e,"performance",(function(){return new Q(e)}))}class te{constructor(e,t){this.PERFORMANCE_SAMPLE_DATA_SIZE=500,this.PERFORMANCE_UPLOAD_TIMEOUT=15e3,this.beforeUnload=!1,this.dataKey=e,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.upload=this.upload.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}destroy(){clearInterval(this.uploadTimeout),"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.PERFORMANCE_UPLOAD_TIMEOUT){clearTimeout(this.uploadTimeout),this.beforeUnload||(this.uploadTimeout=setTimeout(this.upload,e))}upload(){var e;const t=i(this.dataKey,5);if(!t||I("perfUpload"))return void this.setUploadTask();const n=t.dequeue(this.PERFORMANCE_SAMPLE_DATA_SIZE);if(!n.length)return void this.setUploadTask();const r={};r.samples=n,r.versionName=this.versionName,r.versionCode=String(this.versionCode),r.sessionUuid=B(),r.deviceId=P(),r.clientTimeUnixNano=String(J(z()));{const t="unknown",n=W();r.osVersion=(null===(e=n.os)||void 0===e?void 0:e.version)||t,r.vendor=n.name||t,r.device=n.version||t}const s=this.onUploadEnd.bind(this);$({beforeUnload:this.beforeUnload,sdkVersion:o().version,apiHost:this.apiHost,apiUrl:"/api/perf/upload",queryParams:{crashToken:this.appToken},data:r,dataType:"json",onRequestEnd:s,onMute:G.bind(null,"perfUpload")})}onUploadEnd(){this.setUploadTask(0)}}function ne(e){const t="main",n=c(t,6,(function(){return new te(t,e)}));V(t,"TracerPerformanceUploader",n,e)}new Map;class re{constructor(e,t){this.status="BLANK",this.uploaded=!1,this.beforeUnload=!1,this.prevSessionKey="tracer-prev-session",this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.onBeforeUnload=this.onBeforeUnload.bind(this);const n=i(e,1);n&&n.withCrashes()&&this.setCrashed(),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}setCrashed(){"CRASH"!==this.status&&(this.status="CRASH",this.upload())}destroy(){"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}upload(){if(this.uploaded||I("trackSession"))return;this.uploaded=!0;const e={sessionUuid:B(),versionName:this.versionName,versionCode:String(this.versionCode),status:this.status};this.uploadSessionInfo(e)}uploadSessionInfo(e){const t={};t.versionName=this.versionName,t.versionCode=String(this.versionCode),t.deviceId=P(),t.sessions=[e],$({beforeUnload:this.beforeUnload,sdkVersion:o().version,apiHost:this.apiHost,apiUrl:"/api/crash/trackSession",queryParams:{crashToken:this.appToken},data:t,dataType:"json",onMute:G.bind(null,"trackSession")})}}function oe(e){const t="main",n=c(t,7,(function(){return new re(t,e)}));V(t,"SessionUploader",n,e)}function se(){return d("main")}function ie(e,...t){const n={};for(let r=0,o=t.length;r<o;r++){const o=t[r](e);if(o){const e=Object.getPrototypeOf(o),t=Object.getOwnPropertyNames(e);for(let r=0,s=t.length;r<s;r++){const s=t[r];"function"==typeof e[s]&&"constructor"!==s&&(n[s]=e[s].bind(o))}}}return n}}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/dist/",e=i.u,t=i.e,n={},r={},i.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")},i.e=function(o){return t(o).catch((function(t){var s=r.hasOwnProperty(o)?r[o]:3;if(s<1){var a=e(o);throw t.message="Loading chunk "+o+" failed after 3 retries.\n("+a+")",t.request=a,t}return new Promise((function(e){var t,a=3-s+1;setTimeout((function(){var t="cache-bust=true&retry-attempt="+a;n[o]=t,r[o]=s-1,e(i.e(o))}),(t=a,1e3*Math.pow(3,t)))}))}))},self.__declaredGlobals||(self.__declaredGlobals=new Set),self.__usedGlobals||(self.__usedGlobals={buffered:new Set,bufferedErrors:new Set,add(e){this.buffered.add(e)},addError(e){this.bufferedErrors.add(e)},listen(e){(this.buffered.size||this.bufferedErrors.size)&&e(Array.from(this.bufferedErrors),Array.from(this.buffered));const t=this.add.bind(this),n=this.addError.bind(this);this.add=n=>{e([],[n]),t(n)},this.addError=t=>{e([t],[]),n(t)}}}),i._dG=function(e,t){if(self.partConfigEnabled&&self.partConfigEnabled("global_variable_wrapper")&&!self.__declaredGlobals.has(e)){self.__declaredGlobals.add(e);try{let n=t;Object.defineProperty(self,e,{enumerable:!0,configurable:!0,get:()=>(self.__usedGlobals.add(e),n),set(e){n=e}})}catch(n){self.__usedGlobals.addError(e),window[e]=t}}else window[e]=t;return t},(()=>{var e=i(770176),t=i(540764),n=i(303933),r=i(856626),o=i(312828),s=i(765560),a=i(334018),c=i(586138);function d(e){const{pe:t={}}=window.vk||{};return!!t[e]}function u(e,t){return`${e.wsTransport}/web-stats/${e.st?"s":"p"}${t&&`?${t}`}`}window.vk?.stDomain&&(i.p=window.vk.stDomain+"/dist/");const l=()=>({hostName:window.vk?.__domain||"vk.com",options:{isDebuggerMode:d("web_stats_transport_debugger"),isNewQueue:d("webinf_change_queue_analytics")},getBrowserFingerprint:()=>(e=>{const t=new RegExp("(^| )remixgp=([^;]+)"),n=document.cookie.match(t);return n?n[2]:void 0})(),statsMeta:{get st(){return window.vk.statsMeta.st},get platform(){return window.vk?.statsMeta?.platform?window.vk?.statsMeta?.platform:window.isMVK?"mvk":"web2"},get appId(){return d("video_webstats_appid")?c.clientId:void 0},get time(){return window.vk.statsMeta.time},get hash(){return window.vk.statsMeta.hash},get wsTransport(){return window.vk.wsTransport},get userId(){return window.vk.id},get started(){return window.vk.started},get itemId(){return window.cur?.item_id},get itemOwnerId(){return window.cur?.item_owner_id},get itemType(){return window.cur?.item_type}},createUrl:u});(0,t.init)({webStatsParams:l(),enableTracer:d("web_tracer"),ignoreTransactions:d("drop_sentry_ignore_transactions")?[]:[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/],integrations:[(0,n.isNotDefinedIssuesIntegration)({active:d("is_not_defined_errors_redirect"),webStatsParams:l()}),(0,r.knownIssuesIntegration)({getKnownIssues:t=>{const n=String(t.tags?.module??"unknown"),r=t?.exception?.values??[],{type:o,value:s,stacktrace:i}=r[r.length-1]??{},{frames:a}=i??{};return[{predicates:["AbortError"===o]},{predicates:["TypeError"===o,s?.includes("Cannot read properties of undefined (reading 'firefoxSample')")]},{predicates:[s?.includes("ResizeObserver loop")]},{predicates:["TypeError"===o,"Cannot redefine property: getChannelData"===s,!t.tags?.is_logged_in,!!a&&a.every((e=>"<anonymous>"===e.filename)),["video","unknown"].includes(n)]},{predicates:["TypeError"===o,s?.includes(".finally is not a function"),["videoplayer","notifier"].includes(n)]},{predicates:["ErrorOfExtension"===o,!!a&&a.some((e=>e.filename?.includes("/vkopt.js"))),"profile"===n]},{predicates:["Error"===o,s?.includes("Empty response. Method: auth.anonymLogin"),"videoplayer"===n]},{predicates:[s?.includes("Uncaught NetworkError: Failed to execute 'importScripts' on 'WorkerGlobalScope'")]},{predicates:["TypeError"===o,"Load failed"===s,e.browser.safari]},{predicates:[s?.includes("NotSupportedError: Failed to load because no supported source was found.")]},{predicates:["TypeError"===o,"Cannot read properties of undefined (reading 'onMessage')"===s,!!a&&a.every((e=>e.filename?.startsWith("blob:https://vk.com/")))]},{predicates:["NotSupportedError"===o,"The operation is not supported."===s||"Permissions::query does not support this API"===s,e.browser.ios||e.browser.safari||e.browser.iphone]},{predicates:[s?.includes("NotAllowedError: play() failed because the user didn't interact with the document first.")]},{predicates:[s?.includes("Internal error opening backing store for indexedDB.open.")]}]}}),(0,o.staticLoadingIssuesIntegration)({webStatsParams:l()}),(0,s.inlineScriptTagIntegration)(),(0,a.curModuleDiffIssuesIntegration)()],beforeSend:e=>d("sentry_issues")?(e.tags&&(e.tags.loadingState=window[Symbol.for("vkLoadingState")]??"layout-processing",e.tags.redirectChallenge=window.isRedirectChallenge??!1,e.tags.isCoreSpaBlocking=d("core_spa_blocking"),e.tags.isFlushed=window.vk?.isFlushed??!1),e):null});try{stManager?.done("dist/web/error_monitoring.isolated.e72fa501.js")}catch(e){}})()})();
